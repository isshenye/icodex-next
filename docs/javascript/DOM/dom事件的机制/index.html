<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="icodex RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="icodex Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153188913-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-153188913-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="icodex" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">domäº‹ä»¶çš„æœºåˆ¶ | icodex</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://icodex.me/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶"><meta data-react-helmet="true" name="docsearch:language" content="zh-CN"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="keywords" content="frontend, react, javascript, css, react, vue, typescript, docusaurus, blog, personal blog, personal website"><meta data-react-helmet="true" property="og:title" content="domäº‹ä»¶çš„æœºåˆ¶ | icodex"><meta data-react-helmet="true" name="description" content="DOM äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶"><meta data-react-helmet="true" property="og:description" content="DOM äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://icodex.me/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶"><link data-react-helmet="true" rel="alternate" href="https://icodex.me/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://icodex.me/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://GMKEEJO8X4-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.83facce5.css">
<link rel="preload" href="/assets/js/runtime~main.bc1968d0.js" as="script">
<link rel="preload" href="/assets/js/main.84a75bf0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">icodex</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/pages/project">My Project</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">Skill</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/docs/javascript/ç±»å‹/ç±»å‹å®šä¹‰">JavaScript</a></li><li><a class="dropdown__link" href="/docs/css/CSSä»£ç è§„èŒƒ">CSS</a></li><li><a class="dropdown__link" href="/docs/typescript/tsconfig">TypeScript</a></li><li><a class="dropdown__link" href="/docs/react/hooks/å¸¸ç”¨hooks">React</a></li><li><a class="dropdown__link" href="/docs/nodejs/awesome-nodejs">NodeJS</a></li><li><a class="dropdown__link" href="/docs/engineer/">Engineer</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/network/ç½‘é€Ÿä¸å¸¦å®½">Network</a></li><li><a class="dropdown__link" href="/docs/algorithm/ç®—æ³•åˆ†æ">Algorithm</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tools/git">Tool</a><a href="https://github.com/wood3n/icodex-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--dark_uzRr"><b>icodex</b></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/javascript/DOM/MutationObserver">DOM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/javascript/DOM/MutationObserver">MutationObserver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/javascript/DOM/dom apiå½’ç±»">dom apiå½’ç±»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶">domäº‹ä»¶çš„æœºåˆ¶</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/Date/Dateç±»å‹">Date</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/Number/Numberç±»å‹">Number</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/Object/JS é‡Œçš„é¢å‘å¯¹è±¡">Object</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/RegExp/RegExpç±»å‹">RegExp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/Runtime/JSçš„å†…å­˜ç®¡ç†">Runtime</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/String/Stringç±»å‹">String</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/å‡½æ•°/Functionç±»å‹">å‡½æ•°</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/æ€§èƒ½ä¼˜åŒ–/å®šæ—¶å™¨æœºåˆ¶">æ€§èƒ½ä¼˜åŒ–</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/javascript/ç±»å‹/æ“ä½œç¬¦ç±»å‹è½¬æ¢">ç±»å‹</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>domäº‹ä»¶çš„æœºåˆ¶</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="dom-äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶">DOM äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶<a class="hash-link" href="#dom-äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶" title="Direct link to heading">â€‹</a></h2><p>å›¾æº - <a href="https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107/events.html" target="_blank" rel="noopener noreferrer">w3 - events</a></p><p><img alt="image" src="/assets/images/129870638-e1cfaf60-c41e-4243-8cb7-d71a88958134-4685fb283ac94acbfc83da37649ad30c.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ•è·é˜¶æ®µcapture">æ•è·é˜¶æ®µï¼ˆcaptureï¼‰<a class="hash-link" href="#æ•è·é˜¶æ®µcapture" title="Direct link to heading">â€‹</a></h3><p>æ ¹æ® w3 è§„èŒƒä¸­çš„æè¿°ï¼ŒDOM äº‹ä»¶åœ¨è§¦å‘è¿‡ç¨‹æ˜¯ä»æ ¹å…ƒç´ å¼€å§‹è°ƒåº¦ï¼Œç›´åˆ°åˆ°è¾¾ç›®æ ‡äº‹ä»¶å…ƒç´ ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿæ•è·ï¼Œè§¦å‘ï¼Œå†’æ³¡ä¸‰ä¸ªé˜¶æ®µã€‚
æ•è·é˜¶æ®µä¸­ï¼ŒDOM äº‹ä»¶ä¼šä»æ ¹å…ƒç´ <code>html</code>å¼€å§‹ï¼Œæ£€æµ‹å…¶æ˜¯å¦å…·æœ‰ç›¸åŒçš„äº‹ä»¶ç›‘å¬æœºåˆ¶ï¼Œä¾‹å¦‚åœ¨å†…éƒ¨<code>div</code>ä¸Šè®¾ç½®çš„<code>onClick</code>äº‹ä»¶ï¼Œå¦‚æœåœ¨<code>html</code>ä¸Šä¹Ÿè®¾ç½®äº†ï¼Œé‚£ä¹ˆåŒæ ·ä¼šæ¶‰åŠè°ƒåº¦ã€‚
è¿™ä¸ªè¿‡ç¨‹ä¼šä»<code>html</code>å¼€å§‹é€å±‚å‘ç›®æ ‡äº‹ä»¶å…ƒç´ çš„ç¥–å…ˆå…ƒç´ è°ƒåº¦ï¼Œç›´åˆ°åˆ°è¾¾ç›®æ ‡äº‹ä»¶å…ƒç´ ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è§¦å‘é˜¶æ®µ">è§¦å‘é˜¶æ®µ<a class="hash-link" href="#è§¦å‘é˜¶æ®µ" title="Direct link to heading">â€‹</a></h3><p>åœ¨åˆ°è¾¾ç›®æ ‡å…ƒç´ ä»¥åï¼Œä¼šè§¦å‘ç›®æ ‡å…ƒç´ çš„ç›‘å¬å‡½æ•°è°ƒç”¨ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å†’æ³¡é˜¶æ®µbubble">å†’æ³¡é˜¶æ®µï¼ˆbubbleï¼‰<a class="hash-link" href="#å†’æ³¡é˜¶æ®µbubble" title="Direct link to heading">â€‹</a></h3><p>å†’æ³¡é˜¶æ®µåˆ™æ˜¯ä»ç›®æ ‡äº‹ä»¶å…ƒç´ å¼€å§‹ï¼ŒæŒ‰ç…§ DOM æ ‘çš„ç»“æ„ï¼Œä»é‡Œå‘å¤–è°ƒåº¦çš„è¿‡ç¨‹ï¼Œç›´åˆ°å›åˆ°æ ¹å…ƒç´ <code>html</code>ä¸Šã€‚
åœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œæ‰€æœ‰äº‹ä»¶çš„æ³¨å†Œéƒ½é»˜è®¤ä¼šæ‰§è¡Œå†’æ³¡è¿‡ç¨‹ã€‚å½“ç„¶äº†ï¼Œå¦‚æœåœ¨äº‹ä»¶æ³¨å†Œæ—¶è®¾ç½®ç¦æ­¢å†’æ³¡çš„é€‰é¡¹ï¼Œè¿™ä¸ªå†’æ³¡è¿‡ç¨‹å°±ä¸ä¼šå‘ç”Ÿã€‚
å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡çš„å®ä¾‹å±æ€§<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/bubbles" target="_blank" rel="noopener noreferrer">Event.bubbles</a>æ¥åˆ¤æ–­äº‹ä»¶æ˜¯å¦å¤„äºå†’æ³¡é˜¶æ®µã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="äº‹ä»¶æ³¨å†Œ">äº‹ä»¶æ³¨å†Œ<a class="hash-link" href="#äº‹ä»¶æ³¨å†Œ" title="Direct link to heading">â€‹</a></h2><p>äº‹ä»¶ç›‘å¬çš„æ³¨å†Œæ–¹å¼å…·æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨å±æ€§">å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨å±æ€§<a class="hash-link" href="#å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨å±æ€§" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> btn </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">querySelector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;button&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(80, 250, 123)">onclick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> rndCol </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rgb(&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">255</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;,&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">255</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;,&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">255</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;)&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">backgroundColor</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> rndCol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="addeventlistener">addEventListener<a class="hash-link" href="#addeventlistener" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥ç›´æ¥åœ¨<code>document</code>ä¸Šè°ƒç”¨<code>addEventListener</code>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨å…·ä½“ DOM å…ƒç´ ä¸Šã€‚<code>addEventListener</code>å…·æœ‰ä¸¤ç§ç±»å‹ APIï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ–¹æ³•ä¼ é€’çš„ç¬¬ä¸‰ä¸ªå‚æ•°ç±»å‹</p><blockquote><p>target.addEventListener(type, listener, options);</p></blockquote><ul><li><code>type</code>ï¼šæŒ‡å®š<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener noreferrer">äº‹ä»¶ç±»å‹</a>çš„å­—ç¬¦ä¸²</li><li><code>listener</code>ï¼šè®¾ç½®ç›‘å¬å‡½æ•°</li><li><code>options</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æŒ‡å®šä»¥ä¸‹å±æ€§</li></ul><ol><li><code>capture</code>ï¼šé»˜è®¤<code>false</code>ï¼Œè¡¨ç¤º listener æ˜¯å¦ä¼šåœ¨è¯¥ç±»å‹çš„äº‹ä»¶æ•è·é˜¶æ®µä¼ æ’­åˆ°è¯¥ EventTarget æ—¶è§¦å‘ï¼›</li><li><code>once</code>ï¼šé»˜è®¤<code>false</code>ï¼Œè¡¨ç¤º listener åœ¨æ·»åŠ ä¹‹åæ˜¯å¦æœ€å¤šåªè°ƒç”¨ä¸€æ¬¡ï¼›å¦‚æœæ˜¯ <code>true</code>ï¼Œ listener ä¼šåœ¨å…¶è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨ç§»é™¤ï¼›</li><li><code>passive</code>ï¼šé»˜è®¤<code>false</code>ï¼Œè¡¨ç¤º listener æ˜¯å¦æ°¸è¿œä¸ä¼šè°ƒç”¨ preventDefault()ã€‚å½“è®¾ç½®ä¸º<code>true</code>æ—¶ï¼Œå¦‚æœ listener ä»ç„¶è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå®¢æˆ·ç«¯å°†ä¼šå¿½ç•¥å®ƒå¹¶æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å°è­¦å‘Šã€‚</li></ol><p>æ ¹æ®è§„èŒƒï¼Œ<code>passive</code> é€‰é¡¹çš„é»˜è®¤å€¼å§‹ç»ˆä¸º<code>false</code>ã€‚ä½†æ˜¯ï¼Œè¿™å¼•å…¥äº†ç§»åŠ¨ç«¯åœ¨å¤„ç†æŸäº›è§¦æ‘¸äº‹ä»¶ï¼ˆä»¥åŠå…¶ä»–ï¼‰çš„äº‹ä»¶ç›‘å¬å™¨åœ¨å°è¯•å¤„ç†æ»šåŠ¨æ—¶é˜»æ­¢æµè§ˆå™¨çš„ä¸»çº¿ç¨‹çš„å¯èƒ½æ€§ï¼Œä»è€Œå¯¼è‡´æ»šåŠ¨å¤„ç†æœŸé—´æ€§èƒ½å¯èƒ½å¤§å¤§é™ä½ã€‚
ä¸ºé˜²æ­¢å‡ºç°æ­¤é—®é¢˜ï¼ŒæŸäº›æµè§ˆå™¨ï¼ˆç‰¹åˆ«æ˜¯ Chrome å’Œ Firefoxï¼‰å·²å°†æ–‡æ¡£çº§èŠ‚ç‚¹<code>Window</code>ï¼Œ<code>Document</code>å’Œ<code>Document.body</code>çš„<code>touchstart</code>å’Œ<code>touchmove</code>äº‹ä»¶çš„<code>passive</code>é€‰é¡¹çš„é»˜è®¤å€¼æ›´æ”¹ä¸º<code>true</code>ã€‚
è¿™å¯ä»¥é˜²æ­¢è°ƒç”¨äº‹ä»¶ç›‘å¬å™¨ï¼Œå› æ­¤åœ¨ç”¨æˆ·æ»šåŠ¨æ—¶æ— æ³•é˜»æ­¢é¡µé¢å‘ˆç°ï¼Œæå‡ç§»åŠ¨ç«¯çš„æ€§èƒ½ã€‚è§ - <a href="https://developers.google.com/web/updates/2016/06/passive-event-listeners" target="_blank" rel="noopener noreferrer">https://developers.google.com/web/updates/2016/06/passive-event-listeners</a></p><ol start="4"><li><code>signal</code>ï¼šä¸€ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AbortSignal" target="_blank" rel="noopener noreferrer"><code>AbortSignal</code></a>å¯¹è±¡ï¼Œå¦‚æœè¯¥å¯¹è±¡çš„<code>abort()</code>æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ™å½“å‰ç›‘å¬å™¨ä¹Ÿä¼šè¢«ç§»é™¤ã€‚
<code>AbortSignal</code>å¯ä»¥ä¸­æ–­äº‹ä»¶ç›‘å¬å™¨çš„å“åº”ï¼ŒåŒæ—¶æ›´æœ‰ç”¨çš„ä¸€ä¸ªåœ°æ–¹æ˜¯åœ¨ä¸­æ–­å¼‚æ­¥è¯·æ±‚ä¸Šï¼Œä¾‹å¦‚ä¸‹æ–¹çš„<code>fetch</code>è¯·æ±‚å†…éƒ¨ä¼ é€’<code>signal</code>å¯¹è±¡ï¼Œå½“<code>abort()</code>è¢«è°ƒç”¨æ—¶ï¼Œ<code>fetch</code>ä¼šç›´æ¥<code>reject</code>ä¸€ä¸ª<code>AbortError</code>çš„å¼‚å¸¸ã€‚</li></ol><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> controller </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AbortController</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> signal </span><span class="token operator">=</span><span class="token plain"> controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">signal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> downloadBtn </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">querySelector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;.download&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> abortBtn </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">querySelector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;.abort&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">downloadBtn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> fetchVideo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">abortBtn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">abort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Download aborted&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetchVideo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token spread operator">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fetch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">signal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token spread operator">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    reports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">textContent</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Download error: &#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>target.addEventListener(type, listener, useCapture);</p></blockquote><ul><li><code>type</code>ï¼šæŒ‡å®š<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener noreferrer">äº‹ä»¶ç±»å‹</a>çš„å­—ç¬¦ä¸²</li><li><code>listener</code>ï¼šè®¾ç½®ç›‘å¬å‡½æ•°</li><li><code>useCapture</code>ï¼šé»˜è®¤<code>false</code>ã€‚å½“ä¸€ä¸ªå…ƒç´ åµŒå¥—äº†å¦ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸¤ä¸ªå…ƒç´ éƒ½å¯¹åŒä¸€äº‹ä»¶æ³¨å†Œäº†ä¸€ä¸ªå¤„ç†å‡½æ•°æ—¶ï¼Œæ‰€å‘ç”Ÿçš„äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·æ˜¯ä¸¤ç§ä¸åŒçš„äº‹ä»¶ä¼ æ’­æ–¹å¼ã€‚äº‹ä»¶ä¼ æ’­æ¨¡å¼å†³å®šäº†å…ƒç´ ä»¥å“ªä¸ªé¡ºåºæ¥æ”¶äº‹ä»¶ã€‚å¯¹äºäº‹ä»¶ç›®æ ‡ä¸Šçš„äº‹ä»¶ç›‘å¬å™¨æ¥è¯´ï¼Œäº‹ä»¶ä¼šå¤„äº<strong>ç›®æ ‡é˜¶æ®µ</strong>ï¼Œè€Œä¸æ˜¯å†’æ³¡é˜¶æ®µæˆ–è€…æ•è·é˜¶æ®µï¼Œæ‰€ä»¥<code>useCapture</code>æ— å½±å“ã€‚è€Œå½“çˆ¶å…ƒç´ è®¾ç½®äº†<code>useCapture=true</code>çš„æ—¶å€™ï¼Œä»…åœ¨æ•è·é˜¶æ®µè§¦å‘äº‹ä»¶ï¼Œè§ä¸‹é¢çš„ä¾‹å­ï¼š</li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">useCapture: false</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">useCapture: true</li></ul><div class="margin-vert--md"><div role="tabpanel"><div id="div1"><button id="btn1">æµ‹è¯•1</button></div></div><div role="tabpanel" hidden=""><div id="div2"><button id="btn2">æµ‹è¯•2</button></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="addeventlistener-vs-onclick">addEventListener vs onclick<a class="hash-link" href="#addeventlistener-vs-onclick" title="Direct link to heading">â€‹</a></h3><p>ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½åº”è¯¥ä½¿ç”¨<code>addEventListener</code>æ¥æ³¨å†Œäº‹ä»¶ï¼Œè¿™æ ·åšæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li><code>addEventListener</code>æ–¹æ³•æä¾›çš„äº‹ä»¶å¤„ç†é€‰é¡¹æ›´åŠ é½å…¨ï¼Œä¾‹å¦‚<code>addEventListener</code>çš„ç¬¬ä¸‰ä¸ªå‚æ•°<code>useCapture</code>æ”¯æŒå¤„ç†æ•è·å’Œå†’æ³¡æœŸé—´çš„äº‹ä»¶è§¦å‘æœºåˆ¶ï¼›</li><li>å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨<code>removeEventListener</code>ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åº</li><li><code>addEventListener</code>é’ˆå¯¹ç›¸åŒå…ƒç´ æ³¨å†Œå¤šä¸ªç›¸åŒç±»å‹çš„äº‹ä»¶ï¼Œä¸ä¼šå­˜åœ¨è¦†ç›–ï¼Œè€Œä½¿ç”¨<code>onclick</code>ç­‰çš„å½¢å¼ï¼Œåç»­æ³¨å†Œçš„å›è°ƒå‡½æ•°ä¼šè¦†ç›–å‰é¢çš„æ–¹æ³•ã€‚</li></ul><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onclick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> doThing_1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¸ä¼šè°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onclick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> doThing_2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> doThing_3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> doThing_4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä½†æ˜¯<code>addEventListener</code>æœ¬èº«ä½¿ç”¨ä¸å½“ä¹Ÿä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼š</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="this-æŒ‡å‘é—®é¢˜">this æŒ‡å‘é—®é¢˜<a class="hash-link" href="#this-æŒ‡å‘é—®é¢˜" title="Direct link to heading">â€‹</a></h4><p>ES6 ä»¥åå¼•å…¥çš„ç®­å¤´å‡½æ•°å’Œ<code>class</code>è¯­æ³•ï¼›å› æ­¤åœ¨<code>addEventListener</code>æ³¨å†Œçš„å›è°ƒå‡½æ•°éœ€è¦åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š</p><ul><li>å¦‚æœæ˜¯æ™®é€šå‡½æ•°ï¼Œåˆ™å…¶å†…éƒ¨<code>this</code>å°†å§‹ç»ˆæŒ‡å‘ DOM äº‹ä»¶è§¦å‘çš„ç›®æ ‡å…ƒç´ ï¼›å³ä½¿æ™®é€šå‡½æ•°æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•æˆ–è€…ä½œä¸º<code>class</code>ä¸­å®šä¹‰çš„æ–¹æ³•è¢«è°ƒç”¨ï¼›</li></ul><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  b</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;æµ‹è¯•&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å¦‚æœæ˜¯ç®­å¤´å‡½æ•°ï¼Œåˆ™æŒ‡å‘ç®­å¤´å‡½æ•°å®šä¹‰æ—¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ ¹æ®æœ€æ–°çš„ ES è§„èŒƒçš„å®šä¹‰ï¼Œ<a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-execution-contexts" target="_blank" rel="noopener noreferrer">æ‰§è¡Œä¸Šä¸‹æ–‡</a>å¯ä»¥åˆ†ä¸ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€æ¨¡å—æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆES Moduleï¼‰å’Œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œé‚£ä¹ˆç®­å¤´å‡½æ•°å†…éƒ¨<code>this</code>ä¹Ÿå°±æ˜¯è¿™ä¸¤ç§æƒ…å†µã€‚</li></ul><p>ä¸‹é¢çš„ DOM äº‹ä»¶å›è°ƒå‡½æ•°å®šä¹‰åœ¨å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œä½†æ˜¯å¯¹è±¡æ˜¯åœ¨å…¨å±€ç¯å¢ƒä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥å…¶å†…éƒ¨<code>this</code>æŒ‡å‘å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯<code>window</code>ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹å°±æ˜¯<code>undefined</code></p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// åœ¨å…¨å±€ç¯å¢ƒä¸­å®šä¹‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  b</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;æµ‹è¯•&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">a</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¸‹é¢çš„ DOM äº‹ä»¶å›è°ƒå‡½æ•°åœ¨å¯¹è±¡çš„æ–¹æ³•ä¸­å®šä¹‰ï¼Œé‚£ä¹ˆå…¶å†…éƒ¨<code>this</code>å°±æ˜¯å®šä¹‰æ—¶çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„<code>this</code>ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘å¯¹è±¡<code>obj</code>ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// åœ¨å‡½æ•°ä¸­å®šä¹‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  b</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;æµ‹è¯•&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å¯¹äº<code>class</code>å†…éƒ¨å®šä¹‰çš„ DOM å›è°ƒå‡½æ•°ï¼Œæ˜¯ä½¿ç”¨ React class ç»„ä»¶å¼€å‘ä¸­å¿…é¡»äº†è§£çš„é—®é¢˜ã€‚é¦–å…ˆæ¥è¯´æ™®é€šå‡½æ•°ï¼›</li></ul><p>å¦‚æœç›´æ¥çœ‹<code>class</code>å†…éƒ¨çš„<code>this</code>ï¼Œæ ¹æ®é¢å‘å¯¹è±¡çš„è¯­æ³•ç‰¹ç‚¹ï¼Œ<code>this</code>å°†æŒ‡å‘å®ä¾‹å¯¹è±¡ï¼›</p><p>ä½†æ˜¯æ™®é€šå‡½æ•°å†…éƒ¨çš„<code>this</code>æ˜¯å§‹ç»ˆæŒ‡å‘ DOM äº‹ä»¶è§¦å‘çš„ç›®æ ‡å…ƒç´ çš„ï¼Œæ‰€ä»¥åœ¨æ™®é€šå‡½æ•°å†…éƒ¨è¦æƒ³é€šè¿‡<code>this</code>è®¿é—®<code>class</code>å†…éƒ¨çš„å…¶ä»–æˆå‘˜ï¼Œè¿™æ—¶å€™å°±å¿…é¡»æ”¹å˜æ™®é€šå‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨<code>bind</code>æ¥å®ç°ï¼Œå°†æ™®é€šå‡½æ•°å†…éƒ¨<code>this</code>å§‹ç»ˆç»‘å®šåˆ°å®ä¾‹å¯¹è±¡ä¸Šã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">P</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// DOM - btn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> p </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">P</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆå°†å§‹ç»ˆæŒ‡å‘å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸å­˜åœ¨<code>this</code>ä¸¢å¤±çš„é—®é¢˜</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">P</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">a</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯¹è±¡ p</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> p </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">P</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;btn&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å†…å­˜é—®é¢˜">å†…å­˜é—®é¢˜<a class="hash-link" href="#å†…å­˜é—®é¢˜" title="Direct link to heading">â€‹</a></h4><p>å¦‚æœæ˜¯å•ä¸€çš„äº‹ä»¶æ³¨å†Œï¼Œä¸€èˆ¬å¯ä»¥ç›´æ¥åœ¨<code>addEventListener</code>ä¸­åˆ›å»ºå›è°ƒå‡½æ•°ï¼Œä½†æ˜¯å¯¹äºå¤§é‡å…ƒç´ æ³¨å†Œç›¸åŒäº‹ä»¶çš„æ—¶å€™ï¼Œå°±åº”è¯¥å•ç‹¬åˆ›å»ºå›è°ƒå‡½æ•°ï¼Œå°†å¼•ç”¨åœ°å€ä¼ é€’ç»™<code>addEventListener</code>ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="äº‹ä»¶å§”æ‰˜">äº‹ä»¶å§”æ‰˜<a class="hash-link" href="#äº‹ä»¶å§”æ‰˜" title="Direct link to heading">â€‹</a></h2><p>äº‹ä»¶å§”æ‰˜ç®€å•æ¥è¯´å°±æ˜¯å°†ç›®æ ‡äº‹ä»¶å…ƒç´ çš„ç›‘å¬å™¨è®¾ç½®åˆ°å…¶ä»–å…ƒç´ ä¸Šæ¥è¾¾åˆ°äº‹ä»¶ç›‘å¬çš„ç›®çš„ã€‚</p><p>äº‹ä»¶å§”æ‰˜æ¯”è¾ƒå¸¸è§çš„æƒ…æ™¯å°±æ˜¯å¤§é‡åˆ—è¡¨å…ƒç´ <code>li</code>æ³¨å†Œäº‹ä»¶æ—¶å§”æ‰˜åœ¨å…¶çˆ¶å…ƒç´ <code>ul</code>ä¸Šå»æ³¨å†Œï¼Œè¿™æ ·é‡Œç”¨äº‹ä»¶å†’æ³¡é˜¶æ®µçš„å¤„ç†å»è§¦å‘ã€‚</p><div class="codeBlockContainer_J+bg language-html theme-code-block"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">ul</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">parent-list</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 1</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-2</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-3</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 3</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-4</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 4</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-5</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 5</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">post-6</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Item 6</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">ul</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getElementById</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;parent-list&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">addEventListener</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;click&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åˆ¤æ–­äº‹ä»¶è§¦å‘çš„ç›®æ ‡å…ƒç´ ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">nodeName</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;LI&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;List item &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">replace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;post-&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27; was clicked!&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„å¥½å¤„åœ¨äºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>ç®€åŒ–äº‹ä»¶æ³¨å†Œå¹¶èŠ‚çœå†…å­˜ï¼šæ— éœ€ä¸ºå¤§é‡é‡å¤çš„ DOM å…ƒç´ æ·»åŠ ç›¸åŒçš„å¤„ç†å‡½æ•°ï¼›</li><li>æ›´å°‘çš„ä»£ç ï¼šæ·»åŠ æˆ–ç§»é™¤å…ƒç´ æ—¶ï¼Œæ— éœ€æ·»åŠ /ç§»é™¤å¤„ç†ç¨‹åºã€‚</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wood3n/icodex-next/tree/master/docs/javascript/DOM/domäº‹ä»¶çš„æœºåˆ¶.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/javascript/DOM/dom apiå½’ç±»"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">dom apiå½’ç±»</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/javascript/Date/Dateç±»å‹"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dateç±»å‹</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dom-äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶" class="table-of-contents__link toc-highlight">DOM äº‹ä»¶çš„æ•è·å’Œå†’æ³¡æœºåˆ¶</a><ul><li><a href="#æ•è·é˜¶æ®µcapture" class="table-of-contents__link toc-highlight">æ•è·é˜¶æ®µï¼ˆcaptureï¼‰</a></li><li><a href="#è§¦å‘é˜¶æ®µ" class="table-of-contents__link toc-highlight">è§¦å‘é˜¶æ®µ</a></li><li><a href="#å†’æ³¡é˜¶æ®µbubble" class="table-of-contents__link toc-highlight">å†’æ³¡é˜¶æ®µï¼ˆbubbleï¼‰</a></li></ul></li><li><a href="#äº‹ä»¶æ³¨å†Œ" class="table-of-contents__link toc-highlight">äº‹ä»¶æ³¨å†Œ</a><ul><li><a href="#å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨å±æ€§" class="table-of-contents__link toc-highlight">å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨å±æ€§</a></li><li><a href="#addeventlistener" class="table-of-contents__link toc-highlight">addEventListener</a></li><li><a href="#addeventlistener-vs-onclick" class="table-of-contents__link toc-highlight">addEventListener vs onclick</a></li></ul></li><li><a href="#äº‹ä»¶å§”æ‰˜" class="table-of-contents__link toc-highlight">äº‹ä»¶å§”æ‰˜</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.bc1968d0.js"></script>
<script src="/assets/js/main.84a75bf0.js"></script>
</body>
</html>