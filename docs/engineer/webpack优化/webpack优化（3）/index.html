<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="icodex RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="icodex Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153188913-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-153188913-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="icodex" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">webpackä¼˜åŒ–ï¼ˆ3ï¼‰ | icodex</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://icodex.me/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰"><meta data-react-helmet="true" name="docsearch:language" content="zh-CN"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="keywords" content="frontend, react, javascript, css, react, vue, typescript, docusaurus, blog, personal blog, personal website"><meta data-react-helmet="true" property="og:title" content="webpackä¼˜åŒ–ï¼ˆ3ï¼‰ | icodex"><meta data-react-helmet="true" name="description" content="webpack æ–‡æ¡£æä¾›äº†ä¸€äº›ä¼˜åŒ–æ„å»ºæ€§èƒ½çš„å»ºè®® â€”â€” webpack - æ„å»ºæ€§èƒ½ï¼Œå¯¹äºä¸€äº›å°å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™äº›å»ºè®®å¾ˆæœ‰ç”¨ï¼"><meta data-react-helmet="true" property="og:description" content="webpack æ–‡æ¡£æä¾›äº†ä¸€äº›ä¼˜åŒ–æ„å»ºæ€§èƒ½çš„å»ºè®® â€”â€” webpack - æ„å»ºæ€§èƒ½ï¼Œå¯¹äºä¸€äº›å°å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™äº›å»ºè®®å¾ˆæœ‰ç”¨ï¼"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://icodex.me/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰"><link data-react-helmet="true" rel="alternate" href="https://icodex.me/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://icodex.me/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://GMKEEJO8X4-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.83facce5.css">
<link rel="preload" href="/assets/js/runtime~main.bc1968d0.js" as="script">
<link rel="preload" href="/assets/js/main.84a75bf0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">icodex</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/pages/project">My Project</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">Skill</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/javascript/ç±»å‹/ç±»å‹å®šä¹‰">JavaScript</a></li><li><a class="dropdown__link" href="/docs/css/CSSä»£ç è§„èŒƒ">CSS</a></li><li><a class="dropdown__link" href="/docs/typescript/tsconfig">TypeScript</a></li><li><a class="dropdown__link" href="/docs/react/hooks/å¸¸ç”¨hooks">React</a></li><li><a class="dropdown__link" href="/docs/nodejs/awesome-nodejs">NodeJS</a></li><li><a class="dropdown__link navbar__link--active" href="/docs/engineer/">Engineer</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/network/ç½‘é€Ÿä¸å¸¦å®½">Network</a></li><li><a class="dropdown__link" href="/docs/algorithm/ç®—æ³•åˆ†æ">Algorithm</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tools/git">Tool</a><a href="https://github.com/wood3n/icodex-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="icodex" class="themedImage_TMUO themedImage--dark_uzRr"><b>icodex</b></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/engineer/ESLint">ESLintçš„ä½¿ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/engineer/git hooks">git hookæ„å»ºä»£ç è§„èŒƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/engineer/">å‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»å·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/engineer/è·¨åŸŸè§£å†³æ–¹å¼">è·¨åŸŸä¸è§£å†³æ–¹æ¡ˆ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/engineer/Babel/babel pluginç¼–å†™">Babel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/webpack5">webpack5é…ç½®</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ1ï¼‰">webpackä¼˜åŒ–</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ1ï¼‰">webpackä¼˜åŒ–ï¼ˆ1ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ2ï¼‰">webpackä¼˜åŒ–ï¼ˆ2ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰">webpackä¼˜åŒ–ï¼ˆ3ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ4ï¼‰">webpackä¼˜åŒ–ï¼ˆ4ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/webpackæ‰“åŒ…åˆ†æå·¥å…·">webpackæ‰“åŒ…åˆ†æå·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/engineer/webpackä¼˜åŒ–/æ ¹æ®å…¥å£æ‹†åˆ†chunk">webpackåˆ†å…¥å£æ‰“åŒ…</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/webpackinner">webpackåŸç†</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/engineer/ä½¿ç”¨yeomanæ­å»ºè„šæ‰‹æ¶/è„šæ‰‹æ¶æ­å»ºï¼ˆ1ï¼‰">ä½¿ç”¨yeomanæ­å»ºè„šæ‰‹æ¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/engineer/åŸºäºwebpackæ­å»ºreacté¡¹ç›®/æ­å»ºReacté¡¹ç›®ï¼ˆ1ï¼‰">åŸºäºwebpackæ­å»ºreacté¡¹ç›®</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/engineer/æ¨¡å—è¯­æ³•/CSSæ¨¡å—è¯­æ³•">æ¨¡å—è¯­æ³•</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>webpackä¼˜åŒ–ï¼ˆ3ï¼‰</h1></header><p>webpack æ–‡æ¡£æä¾›äº†ä¸€äº›ä¼˜åŒ–æ„å»ºæ€§èƒ½çš„å»ºè®® â€”â€” <a href="https://webpack.docschina.org/guides/build-performance/" target="_blank" rel="noopener noreferrer">webpack - æ„å»ºæ€§èƒ½</a>ï¼Œå¯¹äºä¸€äº›å°å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™äº›å»ºè®®å¾ˆæœ‰ç”¨ï¼</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä¼˜åŒ–æ¨¡å—è§£æè§„åˆ™">ä¼˜åŒ–æ¨¡å—è§£æè§„åˆ™<a class="hash-link" href="#ä¼˜åŒ–æ¨¡å—è§£æè§„åˆ™" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ruleinclude-å’Œ-ruleexclude">rule.include å’Œ rule.exclude<a class="hash-link" href="#ruleinclude-å’Œ-ruleexclude" title="Direct link to heading">â€‹</a></h3><p>åœ¨ä½¿ç”¨ loader çš„æ—¶å€™é€šè¿‡<code>include</code>æˆ–è€…<code>exclude</code>å±æ€§ä¼ å…¥å¿…è¦çš„è·¯å¾„å’Œæ–‡ä»¶ï¼Œé¿å…å…¨å±€åŒ¹é…ï¼Œå¯ä»¥æå‡ webpack æ„å»ºçš„é€Ÿåº¦ã€‚</p><p>ä¾‹å¦‚<code>babel-loader</code>å¿½ç•¥<code>node_modules</code>å†…éƒ¨çš„æ¨¡å—</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.m?jsx?$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        exclude</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">(node_modules)</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//å‰”é™¤node_modules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;babel-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          presets</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                modules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@babel/preset-react&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@babel/plugin-proposal-class-properties&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            isDevelopment </span><span class="token operator">&amp;&amp;</span><span class="token plain"> require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react-refresh/babel&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨åŒ¹é…å›¾ç‰‡æ–‡ä»¶çš„æ—¶å€™ï¼ŒæŒ‡å®šå…·ä½“çš„æ–‡ä»¶å¤¹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.bmp$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.gif$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.jpe?g$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.png$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.svg$</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        include</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;src/assets/images&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//ä»…åŒ…å«å›¾ç‰‡æ–‡ä»¶å¤¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        use</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              limit</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1024</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;static/images/[name].[contenthash:8].[ext]&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;image-webpack-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              disable</span><span class="token operator">:</span><span class="token plain"> isDevelopment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="resolvemodules">resolve.modules<a class="hash-link" href="#resolvemodules" title="Direct link to heading">â€‹</a></h3><p><code>resolve.modules</code>æŒ‡å®š webpack è§£ææ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯<code>[&#x27;node_modules&#x27;]</code>ï¼Œä¹Ÿå°±æ˜¯ webpack ä¼šé¦–å…ˆæŸ¥æ‰¾é¡¹ç›®æ ¹ç›®å½•çš„<code>node_modules</code>æ–‡ä»¶å¤¹å»å¯»æ‰¾æ¨¡å—ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±å¾€ä¸Šä¸€çº§ç›®å½• <code>../node_modules</code> ä¸­å»æ‰¾ï¼Œå®é™…ä¸Šè¿™ç§æŸ¥æ‰¾æ˜¯ä¸éœ€è¦çš„ï¼Œæ¯•ç«Ÿé¡¹ç›®ä¸€èˆ¬ä¹Ÿä¸ä¼šä½¿ç”¨å±‚å±‚åµŒå¥—çš„ç»“æ„ã€‚</p><p>å¯ä»¥é€šè¿‡<code>path.resolve</code>æ¥æ„é€ ç»å¯¹è·¯å¾„å€¼ï¼Œè¿™æ ·å°±åªä¼šåœ¨ç»™å®šç›®å½•ä¸­æŸ¥æ‰¾æ¨¡å—äº†ã€‚å¹¶ä¸”ï¼Œæœ‰æ—¶å€™è¿™ä¸ªé…ç½®æ¯”<code>alias</code>è¿˜ç®€æ´ï¼Œæ¯”æ–¹è¯´å¯¹äºé¡¹ç›®ä¸­å°è£…é€šç”¨ä¸šåŠ¡ç»„ä»¶åº“ä½äº<code>src/components</code>ä¸‹é¢ï¼Œç„¶åé€šè¿‡<code>resolve.modules</code>é…ç½®æ¨¡å—è§£æè§„åˆ™å¦‚ä¸‹</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  resolve</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    modules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./src/components&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./src&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;node_modules&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™æ—¶å€™åœ¨ç¼–å†™é¡µé¢çš„æ—¶å€™ï¼Œå¦‚æœ<code>import</code>ä¸€ä¸ª<code>src/components</code>ä¸‹é‡Œé¢çš„ç»„ä»¶ï¼Œå°±ä¸ç”¨å¸¦ä»»ä½•è·¯å¾„å‰ç¼€ç›´æ¥å†™æ–‡ä»¶å¤¹å°±è¡Œäº†ï¼Œniceï¼ä¸è¿‡è¿™æ—¶å€™çš„å¼Šç«¯å°±æ˜¯å¦‚æœä½ çš„ç»„ä»¶å’Œç¬¬ä¸‰æ–¹åº“çš„ç»„ä»¶åŒåï¼Œå°±ä¼šæŠŠç¬¬ä¸‰æ–¹åº“çš„ç»„ä»¶è¦†ç›–æ‰äº†ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Button/index.jsx&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™ä¸ªé…ç½®åŠ ä¸Šä¸Šæ–‡æåˆ°çš„<code>rule.resolve.extensions</code>ï¼Œç»“åˆåœ¨ä¸€èµ·å°±æ˜¯ç¥å™¨ï¼Œå¯¹äº<code>src/components</code>çš„ç»„ä»¶ï¼Œä¾‹å¦‚<code>src/components/Button</code>ï¼Œç›´æ¥ä¸€å¥è¯å°±æå®šï¼Œwebpack ä¼šè‡ªåŠ¨æŸ¥æ‰¾<code>src/components/Button</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>index</code>æ–‡ä»¶ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Button&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="resolvesymlinks">resolve.symlinks<a class="hash-link" href="#resolvesymlinks" title="Direct link to heading">â€‹</a></h3><p>åœ¨å¼€å‘è‹¥å¹²ä¸ªæœ‰ç›¸äº’ä¾èµ–å…³ç³»çš„åº“çš„æ—¶å€™ï¼Œé€šå¸¸éƒ½ä¼šé‡‡ç”¨ symlink çš„æ–¹å¼äº’ç›¸å¼•ç”¨ã€‚å¯¹äºå•ä¸ªé¡¹ç›®æ¥è¯´ï¼Œç›´æ¥å°†<code>resolve.symlinks</code>ç¦ç”¨æ¯”è¾ƒå¥½ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  resolve</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    symlinks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="modulenoparse">module.noParse<a class="hash-link" href="#modulenoparse" title="Direct link to heading">â€‹</a></h3><p><code>module.noParse</code>æŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯¹äºåŒ¹é…çš„æ¨¡å—åï¼Œwebpack ä¸ä¼šå»è§£æå®ƒä»¬ã€‚è¿™åœ¨å¿½ç•¥ä¸€äº›å¤§å‹åº“æ—¶ï¼Œå¯ä»¥æé«˜æ„å»ºæ€§èƒ½ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    noParse</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">jquery|lodash</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="åˆ©ç”¨ç¼“å­˜">åˆ©ç”¨ç¼“å­˜<a class="hash-link" href="#åˆ©ç”¨ç¼“å­˜" title="Direct link to heading">â€‹</a></h2><p>åˆç†åˆ©ç”¨ç¼“å­˜å¯ä»¥åŠ å¿« webpack äºŒæ¬¡æ„å»ºçš„é€Ÿåº¦ï¼Œå°½ç®¡åœ¨é¦–æ¬¡ä½¿ç”¨è¿™äº› loader æˆ–è€… plugin çš„æ—¶å€™è€—æ—¶å¯èƒ½ä¼šå¾ˆé•¿ï¼Œä½†æ˜¯åç»­æ‰§è¡Œå¯èƒ½ä¼šå¸¦æ¥é£é€Ÿæå‡ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä¼˜åŒ–-babel-loader">ä¼˜åŒ– babel-loader<a class="hash-link" href="#ä¼˜åŒ–-babel-loader" title="Direct link to heading">â€‹</a></h3><p><code>babel-loader</code>æ˜¯æœ€ä¸»è¦çš„ loaderï¼Œå®ƒéœ€è¦å¤„ç†å¤§é‡çš„ JSï¼ŒJSX ç­‰æ¶‰åŠ JS çš„æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡å…¶å†…ç½®çš„ç¼“å­˜é…ç½®æ¥ç¼“å­˜å…¶æ‰§è¡Œç»“æœã€‚</p><p><code>babel-loader</code>æ”¯æŒä»¥ä¸‹æœ‰å…³ç¼“å­˜çš„é…ç½®é¡¹ï¼š</p><ul><li><code>cacheDirectory</code>ï¼šé»˜è®¤æ˜¯<code>false</code>ï¼Œå½“è®¾ç½®æˆ<code>true</code>ä»¥åï¼Œ<code>babel-loader</code>ä¼šä½¿ç”¨é»˜è®¤çš„ç¼“å­˜ç›®å½• <code>node_modules/.cache/babel-loader</code>ç¼“å­˜ loader çš„æ‰§è¡Œç»“æœï¼Œåœ¨ä»¥åçš„ webpack æ‰“åŒ…çš„æ—¶å€™ï¼Œå°†ä¼šå°è¯•è¯»å–ç¼“å­˜ï¼Œæ¥é¿å…æ¯æ¬¡éƒ½é‡æ–°ç¼–è¯‘</li><li><code>cacheIdentifier</code>ï¼šç”¨æ¥æŒ‡å®šç¼“å­˜çš„æ ‡è¯†ç¬¦ï¼Œé»˜è®¤æ˜¯ç”± <code>@babel/core</code> ç‰ˆæœ¬å·ï¼Œ<code>babel-loader</code> ç‰ˆæœ¬å·ï¼Œ<code>.babelrc</code> æ–‡ä»¶å†…å®¹ï¼ˆå­˜åœ¨çš„æƒ…å†µä¸‹ï¼‰ï¼Œç¯å¢ƒå˜é‡ <code>BABEL_ENV</code> çš„å€¼ï¼ˆæ²¡æœ‰æ—¶é™çº§åˆ° <code>NODE_ENV</code>ï¼‰ç»„æˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡æ”¹å˜<code>cacheIdentifier</code>æ¥ä½¿ç¼“å­˜å¤±æ•ˆ</li><li><code>cacheCompression</code>ï¼šé»˜è®¤æ˜¯<code>true</code>ï¼Œä¼šä½¿ç”¨ Gzip å‹ç¼©æ¯ä¸ª Babel ç¼–è¯‘çš„ç»“æœ</li></ul><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.m?jsx?$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;babel-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          cacheDirectory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä¼˜åŒ–-eslint-loader">ä¼˜åŒ– eslint-loader<a class="hash-link" href="#ä¼˜åŒ–-eslint-loader" title="Direct link to heading">â€‹</a></h3><p>å¦‚æœé¡¹ç›®åœ¨ä½¿ç”¨<code>eslint-loader</code>ï¼Œä¸€å®šè¦ä½¿ç”¨<code>exclude</code>å¿½ç•¥<code>node_modules</code>æ–‡ä»¶å¤¹ï¼Œå¹¶å¼€å¯<code>cache:true</code>ç¼“å­˜é¡¹ï¼Œå› ä¸º<code>eslint-loader</code>æ£€æŸ¥ä»£ç çœŸçš„è¶…çº§è€—æ—¶é—´ï¼</p><p>è¿‡å»çš„é¡¹ç›®ä½¿ç”¨ç»éªŒï¼Œå¤§æ¦‚æ˜¯ 10 åˆ†é’Ÿçš„æ‰“åŒ…æ—¶é—´ï¼Œ<code>eslint-loader</code>åœ¨ä¸å¼€å¯ç¼“å­˜çš„æ—¶å€™ï¼Œå ç”¨äº† <strong>1/5</strong> çš„æ‰“åŒ…æ—¶é—´ï¼</p><p><img alt="image-20200912230721400" src="/assets/images/image-20200912230721400-0460d5075667338d31c67adb43eb04f6.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="cache-loader">cache-loader<a class="hash-link" href="#cache-loader" title="Direct link to heading">â€‹</a></h3><p><a href="https://github.com/webpack-contrib/cache-loader" target="_blank" rel="noopener noreferrer"><code>cache-loader</code></a>æ˜¯ä¸€ä¸ª webpack loaderï¼Œå¯ä»¥ç¼“å­˜ loader çš„æ‰§è¡Œç»“æœåˆ°æœ¬åœ°ç£ç›˜æ–‡ä»¶å¤¹ä¸­æˆ–è€…æ”¾åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­ã€‚ä½†æ˜¯æœ¬èº«æ¥è¯´ï¼Œç¼“å­˜åˆ°æœ¬åœ°æ–‡ä»¶å¤¹ä¸­æ¶‰åŠåˆ° IO æ“ä½œï¼Œåœ¨ webpack æ‰§è¡Œæ‰“åŒ…çš„è¿‡ç¨‹ä¸­ä¼šå¸¦æ¥æ›´å¤§çš„å†…å­˜å ç”¨é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œåªåœ¨éœ€è¦ç¼–è¯‘å¤§é‡æ¨¡å—çš„ loader ä¸­ä½¿ç”¨<code>cache-loader</code>ã€‚</p><ul><li><code>babel-loader</code>ï¼šéœ€è¦ç¼–è¯‘å¤§é‡ JS ä»£ç ï¼Œä½†æ˜¯ä¸Šæ–‡è¯´äº†ï¼Œå®ƒé»˜è®¤å¸¦æœ‰ç¼“å­˜é€‰é¡¹</li><li><code>css-loader</code>ï¼šå¯èƒ½ä¼šéœ€è¦ï¼›å…¶ä»–ç±»ä¼¼çš„å¤„ç† CSS é¢„å¤„ç†å™¨çš„ loader ä¹Ÿå¯ä»¥ä½¿ç”¨</li><li><code>image-webpack-loader</code>ï¼šå‹ç¼©å›¾ç‰‡çš„ loaderï¼Œè¿™ä¸ªè€—æ—¶æ¯”è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ç¼“å­˜å…¶æ‰§è¡Œç»“æœ</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é…ç½®é¡¹">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹" title="Direct link to heading">â€‹</a></h4><p><code>cache-loader</code>è™½ç„¶å·²ç»æ¥è¿‘ä¸€å¹´æ²¡æœ‰æ›´æ–°è¿‡äº†ï¼Œä½†æ˜¯å®ƒæ˜¯ webpack å›¢é˜Ÿç»´æŠ¤çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å€¼å¾—ä¿¡èµ–çš„ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong><code>cacheContext</code></strong></td><td><code>{String}</code></td><td><code>undefined</code></td><td>ç›¸å¯¹äºè®¾ç½®çš„è·¯å¾„ç”Ÿæˆç¼“å­˜</td></tr><tr><td><strong><code>cacheKey</code></strong></td><td><code>{Function(options, request) -&gt; {String}}</code></td><td><code>undefined</code></td><td>é‡å†™ç”Ÿæˆç¼“å­˜é¡¹çš„é”®çš„å‡½æ•°</td></tr><tr><td><strong><code>cacheDirectory</code></strong></td><td><code>{String}</code></td><td><code>findCacheDir({ name: &#x27;cache-loader&#x27; }) or os.tmpdir()</code></td><td>è®¾ç½®ç¼“å­˜å†™å…¥å’Œè¯»å–çš„ç›®å½•</td></tr><tr><td><strong><code>cacheIdentifier</code></strong></td><td><code>{String}</code></td><td><code>cache-loader:{version} {process.env.NODE_ENV}</code></td><td>è®¾ç½®ä¸€ä¸ªç”¨äºç”Ÿæˆ hash çš„æ ‡è¯†ç¬¦</td></tr><tr><td><strong><code>compare</code></strong></td><td><code>{Function(stats, dep) -&gt; {Boolean}}</code></td><td><code>undefined</code></td><td>ä¿®æ”¹ç¼“å­˜æ¯”è¾ƒçš„å‡½æ•°ï¼Œå¦‚æœè¿”å›<code>true</code>å°±è¡¨ç¤ºä½¿ç”¨ç¼“å­˜è€Œä¸æ˜¯å»æ‰§è¡Œ loader ç”Ÿæˆæ–°èµ„æº</td></tr><tr><td><strong><code>precision</code></strong></td><td><code>{Number}</code></td><td><code>0</code></td><td>Round <code>mtime</code> by this number of milliseconds both for <code>stats</code> and <code>dep</code> before passing those params to the comparing function</td></tr><tr><td><strong><code>read</code></strong></td><td><code>{Function(cacheKey, callback) -&gt; {void}}</code></td><td><code>undefined</code></td><td>ä½¿ç”¨å‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°çš„å†…å®¹æ¥è¦†ç›–ç¼“å­˜çš„å†…å®¹</td></tr><tr><td><strong><code>readOnly</code></strong></td><td><code>{Boolean}</code></td><td><code>false</code></td><td>å¦‚æœä¸å¸Œæœ›æ›´æ–°ç¼“å­˜ï¼Œåªæ˜¯è¯»å–å®ƒå¯ä»¥å°†è¿™ä¸ªé…ç½®é¡¹è®¾ä¸º<code>true</code></td></tr><tr><td><strong><code>write</code></strong></td><td><code>{Function(cacheKey, data, callback) -&gt; {void}}</code></td><td><code>undefined</code></td><td>ä½¿ç”¨å‡½æ•°ç”Ÿæˆæ–°èµ„æºæ¥æ›¿æ¢ç¼“å­˜å†…å®¹</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä½¿ç”¨">ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> cache-loader -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä½¿ç”¨çš„æ—¶å€™åœ¨è€—æ—¶é•¿çš„ loader å‰é¢æ·»åŠ <code>cache-loader</code>å°±å¯ä»¥äº†ï¼Œè‡³äºå¦‚ä½•åˆ†æ loader çš„æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥å€ŸåŠ©<code>speed-measure-webpack-plugin</code>è¿™ä¸ªå·¥å…·ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘åœ¨<code>image-webpack-loader</code>è¿™ä¸ªè´Ÿè´£å‹ç¼©å›¾ç‰‡çš„ loader å‰æ·»åŠ çš„é…ç½®ï¼Œ<strong>ä¸€å®šè¦æ³¨æ„åœ¨<code>image-webpack-loader</code>å‰å¼•å…¥<code>cache-loader</code></strong>ï¼Œæˆ‘ç°åœ¨è¿˜ä¸æ˜ç™½<code>cache-loader</code>åˆ°åº•ä»€ä¹ˆåŸç†ï¼Œæˆ‘æµ‹è¯•æ˜¯åœ¨<code>url-loader</code>å‰ä½¿ç”¨<code>cache-loader</code>æ‰“åŒ…ä¼šä¸¢å¤±å›¾ç‰‡ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.bmp$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.gif$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.jpe?g$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.png$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.svg$</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        include</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;src/assets/images&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        use</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              limit</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1024</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//10KB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;static/images/[name].[contenthash:8].[ext]&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cache-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//å¼•å…¥cache-loader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;image-webpack-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              disable</span><span class="token operator">:</span><span class="token plain"> isDevelopment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//å¼€å‘ç¯å¢ƒä¸‹ç¦ç”¨å‹ç¼©å›¾ç‰‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨å¼•å…¥<code>cache-loader</code>å‰ï¼Œæˆ‘çš„é¡µé¢ä¸­åŒ…å«ä¸€å¼ <code>7MB</code>å·¦å³çš„å›¾ç‰‡éœ€è¦å‹ç¼©ï¼Œæ‰“åŒ…çš„è€—æ—¶æ˜¯è¿™æ ·çš„ï¼š</p><p><img alt="image-20200912165834559" src="/assets/images/image-20200912165834559-a667e73541117d05359e4f68fe89ad4d.png"></p><p>ä½¿ç”¨<code>cache-loader</code>æ‰“åŒ…ä¸€æ¬¡åï¼Œå†æ¬¡æ‰“åŒ…ï¼Œæ˜æ˜¾ç¼©çŸ­äº†<code>image-webpack-loader</code>çš„å¤„ç†æ—¶é•¿ã€‚</p><p><img alt="image-20200912165944112" src="/assets/images/image-20200912165944112-412d84e1aa65271629fe912a529b1662.png"></p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¤šçº¿ç¨‹æ‰“åŒ…">å¤šçº¿ç¨‹æ‰“åŒ…<a class="hash-link" href="#å¤šçº¿ç¨‹æ‰“åŒ…" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="thread-loader">thread-loader<a class="hash-link" href="#thread-loader" title="Direct link to heading">â€‹</a></h3><p><a href="https://github.com/webpack-contrib/thread-loader" target="_blank" rel="noopener noreferrer"><code>thread-loader</code></a>æ˜¯ webpack å›¢é˜Ÿæä¾›çš„ä¸€ä¸ª webpack loaderï¼Œå¦‚æœæ­£åœ¨ä½¿ç”¨<a href="https://github.com/amireh/happypack" target="_blank" rel="noopener noreferrer">happypack</a>ä¹Ÿå»ºè®®è¿ç§»åˆ°<code>thread-loader</code>ä¸Šæ¥ï¼Œhappypack å·²ç»ä¸å†ç»´æŠ¤äº†ã€‚</p><p><code>thread-loader</code>åˆ©ç”¨çš„æ˜¯ nodejs çš„ <a href="https://nodejs.org/zh-cn/docs/guides/dont-block-the-event-loop/" target="_blank" rel="noopener noreferrer">worker pool æœºåˆ¶</a>ï¼Œæˆ–è€…å« thread poolï¼›å½“ä½¿ç”¨ node å¯åŠ¨ webpack æ‰“åŒ…ç¨‹åºçš„æ—¶å€™ï¼Œwebpack ä¸»ç¨‹åºä¼šè¿è¡Œåœ¨äº‹ä»¶å¾ªç¯çš„ä¸»çº¿ç¨‹ä¸Šï¼Œè¿˜æœ‰ worker pool è´Ÿè´£å¤„ç†é«˜æˆæœ¬çš„ä»»åŠ¡ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é…ç½®é¡¹-1">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹-1" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>é…ç½®é¡¹</th><th>ç±»å‹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>workers</code></td><td><code>Number</code></td><td>äº§ç”Ÿçš„ worker çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯<code>cpu æ ¸å¿ƒæ•° - 1</code></td></tr><tr><td><code>workerParallelJobs</code></td><td><code>Number</code></td><td>ä¸€ä¸ª worker è¿›ç¨‹ä¸­å¹¶è¡Œæ‰§è¡Œå·¥ä½œçš„æ•°é‡ï¼›é»˜è®¤æ˜¯<code>20</code></td></tr><tr><td><code>workerNodeArgs</code></td><td><code>Array</code></td><td>é¢å¤–çš„ node.js å‚æ•°ï¼Œä¾‹å¦‚<code>[&#x27;--max-old-space-size=1024&#x27;]</code></td></tr><tr><td><code>poolRespawn</code></td><td><code>Boolean</code></td><td>å…è®¸é‡æ–°å¼€å¯ä¸€ä¸ªæ­»æ‰çš„ work æ± ï¼›é‡æ–°å¼€å¯ä¼šå‡æ…¢æ•´ä¸ªç¼–è¯‘é€Ÿåº¦ï¼Œå¹¶ä¸”å¼€å‘ç¯å¢ƒåº”è¯¥è®¾ç½®ä¸º<code>false</code></td></tr><tr><td><code>poolTimeout</code></td><td><code>Number</code></td><td>è®¾ç½®è¶…è¿‡ä¸€å®šæ—¶é—´è‡ªåŠ¨ç»ˆæ­¢ workerï¼Œé»˜è®¤æ˜¯<code>500ms</code>ï¼Œå¯ä»¥è®¾ç½®ä¸º<code>Infinity</code>ï¼Œè¿™æ ·ä¼šè®© worker ä¸€ç›´å¤„äºæ´»è·ƒçŠ¶æ€</td></tr><tr><td><code>poolParallelJobs</code></td><td><code>Number</code></td><td>æ± åˆ†é…ç»™ worker çš„å·¥ä½œæ•°é‡ï¼Œé»˜è®¤æ˜¯<code>200</code>ï¼Œå‡å°‘çš„è¯ä¼šé™ä½æ•ˆç‡ä½†æ˜¯ä¼šä½¿åˆ†é…æ›´åŠ åˆç†</td></tr><tr><td><code>name</code></td><td><code>String</code></td><td>worker æ± çš„åç§°ï¼Œå¯ç”¨äºåˆ›å»ºå…·æœ‰å…¶ä»–ç›¸åŒé€‰é¡¹çš„ä¸åŒ worker pool</td></tr></tbody></table><p><code>max-old-space-size</code>è¿™ä¸ªé¢å¤–çš„ nodejs å‚æ•°ï¼Œåœ¨ nodejs æ–‡æ¡£ä¸­ä»‹ç»çš„æœ‰ï¼Œè¿™ä¸ª CLI å‚æ•°æ˜¯é…ç½® V8 å¼•æ“åœ¨æ‰§è¡Œ JS æ—¶å€™æœ€å¤§å¯ä»¥ä½¿ç”¨çš„ç³»ç»Ÿå†…å­˜çš„ï¼Œå•ä½æ˜¯<code>MB</code>ï¼Œé»˜è®¤å€¼æ˜¯<code>512MB</code>ã€‚åœ¨ nodejs æ‰§è¡Œçš„æ—¶å€™ï¼Œå¦‚æœå†…å­˜é™åˆ¶å¤ªå°ï¼ŒV8 å°±ä¸å¾—ä¸é¢‘ç¹æ‰§è¡Œ GC æ¥é‡Šæ”¾å“ªäº›ç”¨ä¸åˆ°çš„å˜é‡å ç”¨çš„å†…å­˜ï¼Œå½“ç¨‹åºéœ€è¦çš„å†…å­˜å¤ªå¤§æ—¶ï¼Œæœ‰æ—¶å€™ V8 ä¼šç›´æ¥ç»ˆæ­¢ç¨‹åºæ‰§è¡Œã€‚stack overflow ä¸Šæœ‰ä¸€ä¸ªç›¸å…³é—®é¢˜ â€”â€” <a href="https://stackoverflow.com/questions/48387040/node-js-recommended-max-old-space-size/48392705#48392705" target="_blank" rel="noopener noreferrer">Node.js recommended â€œmax-old-space-sizeâ€</a>ã€‚</p><p>webpack æ‰“åŒ…ç¨‹åºä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¯¹äºè¶…å‡ºå†…å­˜é™åˆ¶ï¼Œæ‰“åŒ…ç¨‹åºä¼šè¢«ç»ˆæ­¢ã€‚</p><p><img alt="image-20200912190631480" src="/assets/images/image-20200912190631480-b46c7562c53d429ab5bf6dca7602d3fc.png"></p><p>è§£å†³è¿™ç§é—®é¢˜çš„æ–¹æ³•å°±æ˜¯é€šè¿‡åœ¨<code>package.json</code>çš„ npm- script ä¸­æŒ‡å®š CLI å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;scripts&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;build&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node --max-old-space-size=8192 scripts/build.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä½¿ç”¨-1">ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨-1" title="Direct link to heading">â€‹</a></h4><p>åœ¨å…¶å®ƒ loader çš„é…ç½®å‰é¢æ·»åŠ <code>thread-loader</code>ï¼Œåˆ™å®ƒä»¬å°†ä¼šåœ¨ä¸€ä¸ª worker pool ä¸­è¿è¡Œã€‚æ¯ä¸ª worker éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ node.js è¿›ç¨‹ï¼Œå¼€å¯ worker æœ¬èº«ä¼šäº§ç”Ÿé¢å¤–å¼€é”€çš„ï¼Œæ¯ä¸€ä¸ª worker éƒ½ä¼šäº§ç”Ÿå¤§äº<code>600ms</code>çš„å»¶è¿Ÿã€‚</p><p>æ­¤å¤–å¯¹ä½¿ç”¨çº¿ç¨‹æ± æ‰§è¡Œçš„ loader ä¹Ÿä¼šæœ‰é™åˆ¶ï¼š</p><ul><li>loader ä¸èƒ½äº§ç”Ÿæ–°çš„æ–‡ä»¶</li><li>loader ä¸èƒ½ä½¿ç”¨è‡ªå®šä¹‰çš„ loader API</li><li>loader ä¸èƒ½è·å– webpack çš„é…ç½®</li></ul><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> thread-loader -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.js$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        include</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;src&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        use</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;thread-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;babel-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//åœ¨babel-loaderå‰ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¸ºäº†é¿å…å¼€å¯ worker å‰è€—æ—¶è¿‡é•¿ï¼Œå¯ä»¥é¢„çƒ­ worker poolï¼Œä¾‹å¦‚å¯¹äºè¦ä½¿ç”¨çš„ loaderï¼Œæå‰å°†å…¶åŠ è½½åˆ° node.js æ¨¡å—é«˜é€Ÿç¼“å­˜ä¸­ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> threadLoader </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;thread-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">threadLoader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">warmup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// workerçš„é…ç½®é¡¹ï¼Œå¯ä»¥æ˜¯ä¼ é€’ç»™loaderçš„é…ç½®é¡¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// loader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;babel-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;sass-loader&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç»è¿‡æˆ‘åœ¨<code>babel-loader</code>å’Œ<code>eslint-loader</code>å‰æ·»åŠ <code>thread-loader</code>å¹¶å¼€å¯çº¿ç¨‹é¢„çƒ­ä»¥åï¼Œç¡®å®è®©ç›¸å…³ loader çš„æ‰§è¡Œæ—¶é—´å‡å°‘äº†å¤§æ¦‚ 10 å‡ ç§’çš„æ ·å­ï¼Œæ€»ä½“æ¥è¯´å½±å“ä¸æ˜¯å¾ˆæ˜æ˜¾ã€‚</p><p><img alt="image-20200913003400905" src="/assets/images/image-20200913003400905-12e8c9059df108d441a8845ed121729c.png"><img alt="image-20200913003347937" src="/assets/images/image-20200913003347937-13668fc1a21f0772f2a854a1b9ab6c08.png"></p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="dll">DLL<a class="hash-link" href="#dll" title="Direct link to heading">â€‹</a></h2><p>DLLï¼ˆDynamic-link libraryï¼ŒåŠ¨æ€é“¾æ¥åº“ï¼‰è¿™ä¸ªè¯æ¥æºäºå¾®è½¯çš„æ‰“åŒ…æŠ€æœ¯ã€‚å…¶å® DLL æœ‰ç‚¹ç±»ä¼¼äºæŒ‰éœ€åŠ è½½çš„æ„å‘³ï¼ŒæŠŠä¸€äº›å…±äº«çš„ä»£ç æŠ½æˆ DLLï¼Œå½“å¯æ‰§è¡Œæ–‡ä»¶è°ƒç”¨åˆ° DLL ä¸­çš„å‡½æ•°æ—¶ï¼Œæ“ä½œç³»ç»Ÿæ‰ä¼šæŠŠ DLL æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p><p>ä¸è¿‡ï¼ŒJS ä¸å­˜åœ¨ DLL è¿™ç§ä¸œè¥¿ï¼Œä½¿ç”¨<code>DllPlugin</code> åªæ˜¯è®©ä¸€äº›ç¬¬ä¸‰æ–¹åº“æå‰æ‰“åŒ…å‡ºæ¥å½¢æˆä¸€ä¸ª<a href="https://webpack.docschina.org/guides/author-libraries/" target="_blank" rel="noopener noreferrer"><code>library</code></a>ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå¾€å¾€å®ƒä»¬åŸºæœ¬ä¸Šæ˜¯ä¸ä¼šé¢‘ç¹å‡çº§çš„ï¼Œæå‰æ‰“åŒ…å‡ºæ¥è¿™æ ·è®© webpack æ›´å¤šçš„å»åšé¡¹ç›®ä»£ç æ‰“åŒ…çš„äº‹æƒ…ï¼Œæå¤§çš„åŠ å¿«æ„å»ºé€Ÿåº¦ã€‚æœ‰ç‚¹ç±»ä¼¼äºä»£ç æ‹†åˆ†çš„æ„å‘³ï¼Œä½†æ˜¯ code splitting è¿˜æ˜¯ä¼šåœ¨ webpack æ¯æ¬¡æ„å»ºçš„æ—¶å€™éƒ½å»æ‰“åŒ…ï¼Œæ— æ³•åŠ å¿« webpack çš„æ„å»ºé€Ÿåº¦ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="library">library<a class="hash-link" href="#library" title="Direct link to heading">â€‹</a></h3><p><code>library</code>ä¹Ÿå°±æ˜¯ JS åº“ï¼Œæ¯”å¦‚<code>lodash</code>ç­‰éƒ½å±äºä¸€ä¸ª JS åº“ï¼Œwebpack æä¾›äº†ä¸“é—¨ç”¨äºæ‰“åŒ… JS åº“çš„å¤„ç†ã€‚å…¶å® DLL å°±æ˜¯åˆ©ç”¨æ‰“åŒ… library çš„æ–¹å¼å°†é¡¹ç›®ä»£ç æŠ½æˆä¸€ä¸ª libraryï¼Œå¹¶é€šè¿‡<a href="https://webpack.docschina.org/guides/author-libraries/#expose-the-library" target="_blank" rel="noopener noreferrer">æš´éœ² library</a> çš„å½¢å¼è®©é¡¹ç›®ä¸­å…¶å®ƒæ¨¡å—å¯ä»¥ä½¿ç”¨åˆ°è¿™äº› libraryã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="dllplugin">DllPlugin<a class="hash-link" href="#dllplugin" title="Direct link to heading">â€‹</a></h3><p><code>DllPlugin</code>æ˜¯ webpack å†…ç½®çš„è´Ÿè´£å°†ä»£ç æŠ½å‡ºæ¥å•ç‹¬æ‰“åŒ…çš„ webpack pluginã€‚è¦ä½¿ç”¨<code>DllPlugin</code>ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªæ–°çš„ webpack é…ç½®æ–‡ä»¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†ç¬¬ä¸‰æ–¹åº“çš„æ‰“åŒ…ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é…ç½®é¡¹-2">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹-2" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>é…ç½®é¡¹</th><th>ç±»å‹</th><th>&lt;æ˜¯å¦å¿…å¡«</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>context</code></td><td><code>String</code></td><td>no</td><td>manifest æ–‡ä»¶ä¸­è¯·æ±‚çš„ contextï¼›é»˜è®¤æ˜¯ webpack çš„<code>context</code>é…ç½®é¡¹ï¼Œä¹Ÿå°±æ˜¯<code>webpack.config.js</code>æ‰€åœ¨çš„å½“å‰ç›®å½•</td></tr><tr><td><code>format</code></td><td><code>Boolean</code></td><td>no</td><td>æ˜¯å¦æ ¼å¼åŒ–<code>manifest.json</code>ï¼›é»˜è®¤æ˜¯<code>false</code></td></tr><tr><td><code>name</code></td><td><code>String</code></td><td>yes</td><td>æš´éœ²å‡ºçš„ DLL çš„å‡½æ•°å</td></tr><tr><td><code>path</code></td><td><code>String</code></td><td>yes</td><td>è¾“å‡ºçš„<code>manifest.json</code>çš„ç»å¯¹è·¯å¾„</td></tr><tr><td><code>entryOnly</code></td><td><code>Boolean</code></td><td>no</td><td>é»˜è®¤æ˜¯ <code>true</code>ï¼Œä»…æš´éœ²å…¥å£</td></tr><tr><td><code>type</code></td><td><code>String</code></td><td>no</td><td>ç”Ÿæˆçš„ DLL bundle çš„ç±»å‹</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä½¿ç”¨-2">ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨-2" title="Direct link to heading">â€‹</a></h4><p>ç°åœ¨å°è¯•é…ç½®<code>DllPlugin</code>æŠŠ<code>react</code>çš„åº“æ–‡ä»¶ä»æ‰“åŒ…æµç¨‹ä¸­æŠ½å–å‡ºæ¥ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª<code>webpack.dll.config.js</code>çš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨<code>DllPlugin</code>ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> path </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> webpack </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;webpack&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token maybe-class-name">CleanWebpackPlugin</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;clean-webpack-plugin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//æ¸…ç†buildæ–‡ä»¶å¤¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;production&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  entry</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    react</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react-dom&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  output</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    path</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;dll&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    filename</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;[name].[contenthash].dll.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    library</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;_[name]_dll&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">webpack</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">DllPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      context</span><span class="token operator">:</span><span class="token plain"> __dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;dll/[name]-manifest.json&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;_[name]_dll&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™é‡Œçš„é…ç½®æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ul><li><code>entry</code>éœ€è¦ä½¿ç”¨å¯¹è±¡çš„é…ç½®å½¢å¼ï¼Œå¹¶ä¸”<strong>æ¯ä¸ªå±æ€§çš„å€¼éƒ½å¿…é¡»æ˜¯æ•°ç»„ï¼Œå³ä½¿å†…éƒ¨åªåŒ…å«å•ä¸ªæ¨¡å—ä¹Ÿå¿…é¡»æ”¾åœ¨æ•°ç»„é‡Œ</strong></li><li><code>output.library</code>ä¸è¦å’ŒåŸæ¨¡å—çš„åç§°ä¸€æ ·ï¼Œæœ€å¥½åŠ ä¸ªå‰ç¼€æˆ–è€…åç¼€ï¼Œä¾‹å¦‚<code>react</code>æœ¬èº«æš´éœ²çš„æ¨¡å—åæ˜¯<code>react</code>ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä¸èƒ½å†ä½¿ç”¨<code>react</code></li><li><code>output.library</code>å°±æ˜¯ä¸Šæ–‡æåˆ°çš„æš´éœ² library çš„å½¢å¼ï¼Œè¿™æ ·å…¶ä»–æ¨¡å—å°±å¯ä»¥ä½¿ç”¨<code>output.library</code>é“¾æ¥åˆ°æŠ½å–å‡ºæ¥çš„ â€DLLâ€œï¼Œ<strong>è¿™ä¸ªå±æ€§å€¼å¿…é¡»å’Œ<code>DllPlugin</code>å†…éƒ¨çš„<code>name</code>é…ç½®é¡¹ä¿æŒä¸€è‡´</strong></li></ul><p>æœ€åç»“åˆ npm-scripts åœ¨<code>package.json</code>ä¸­å°†æ‰§è¡Œè¿™ä¸ªå•ç‹¬çš„<code>webpack.dll.config.js</code>çš„å‘½ä»¤å†™å…¥è¿›å»ã€‚</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;dll&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;webpack --config webpack.dll.config.js&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç°åœ¨åœ¨æ§åˆ¶å°æ‰§è¡Œ<code>yarn dll</code>ï¼Œå°±ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•çš„<code>dll</code>æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆæ‰“åŒ…çš„ DLL æ–‡ä»¶äº†ï¼ŒåŒæ—¶è¿˜ä¼šåŒ…å«ä¸€äº›<code>manifest.json</code>æ–‡ä»¶ï¼Œç”¨äº<code>DllReferencePlugin</code>ã€‚</p><p><img alt="image-20200913191529903" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX4AAABFCAYAAABNEI0mAAASOUlEQVR4nO2de0xcV37HPwzz9PAwYCZTQ+zgUULIsm53W8TKqkNjyEpu4+7iBrlKpCqWsvxRWU0ko0r80Wr+av6oLSWVV7siq9hS1d26pHh33QZpA8mSbN0itukWoeBHydgOeCeDx4SX58Ew9I9778yd9zDGeMj8PpIl7j3v43t/53e+58w9ZQcOdG0gCIIglAyGR10BQRAEYXsRwy8IglBiiOEXBEEoMYzbWVhjUwMbG4lLCnM372xnFQRBEEqebTP87c+10f5cW8r96f+5yvuXPti6gno9OA/W4j1VDZ1eavoCrBxtYk3/99aVJgiCsOPYNsPf2NSQ9n7LN56m5RtPp9z/zX9O8tHwrx52tQRBEIoe0zNfUl4XAmDdb2Ht090PlF9eht9ofgLCN4lkjFGP1QzB8HzWfO567/LR8H9sroaCIAgljPWPvBhs67FrQ0UEoyNI4JfOgvPMY3H3eV74Cze97c9nGCXqeeqwm9Mvv8zjOXIKBcPMeuYA2NjYyPmv4Ym9VO2uzJHrIpXDIziHR3AOezDlbpAgCMKOwPTMlwlGX6PMto7pqaWC883D43+fn75joufVl+kFBsbf13n+itHvaZ5j8J03+TyPAqt2V3L85HfyruDQ+Z+x9OVyhtAwtosTcKkL7wAog8AEzNTmnb8gCEKxosk7acMeC7B2vaqgfPPbzhl9j8Ef/Qvzv/uyzvNXjH73gZsMvvN3XI/mV2BDBq0/E9oMIS29c1TTyuqAdqOa5UuuTeUvCIJQauS/uBt9j8EfQc+rL/OXZjsj5c/Tvf8mg//493kbfQBXS1PecT+76skdad7GJooXBEHYMaz7LRgq0q+urvstBee7uR9wqZ7/b1t66CnA6AM0PJG/xz/ryWOPf30goRGGvZlkIUEQhJ3F2qe7iQbKU+5HA+UPtLNn89s5o+8xOPBeQYXtce7BYjXnHX8um8wDMFDLavcE9l4ny6rGb2/3wcz+guonCIJQbAR/6UzczvmFrWBtX2Pb9vHPeuZoeGJv3vGXv1xm3ns3R6xqls+0UtM3grMbwIX/kgv7wQepqSAIQnGx9unuLf3hadl2fpY504+40jH/27uEgplXtAVBEITC2NZv9WTdoSMIgiBsC/J1TkEQhBJDDL8gCEKJIYZfEAShxBDDLwiCUGJsyvDX11sfVj0EQRCEbUI8fkEQhBJDDL8gCEKJIYZfEAShxBDDLwiCUGJs6y93czHzz7Obiu/688aHVBNBEISvLuLxPyIM7klq3OHY385ziyl/C4UQxnZxEltnPnHjx3ZW9qa7fgh0eqkZHsE5nG8d88lvi/ISSoai8vh3IqZzI1TcfZYFd/6fm948YWwXP6I65UusLvxHm1hTj5y0q3dD44n1MbgncbT7lIuZNrynqtWQ7OmSy42H50qXgU4vNX1TaMdHrF7qUj+nnRoGDhbPHCQwmiNdDhLaHusvLewWdl1/JF/nLjexH/Kpl6l7Csafxav1V0IZujZr9Hpwds+krT8Ao04WRgs/dFsofsy/dw/7dz9n9aePE/6NcqxsecN9ql69QWDsMYIFHLouhn9HYCZwoouA7o4y4DQoRqA3QORMF96YkbyKrVM1IL0eHC0OfEcPElUNeY1bNdTZ0qlxjaPaecY6sqbLjOEwrBztYgFUg+YhOKAzZEut+E44U05Uy5kuI4vY9+zHe1T5TrfBPYnjojehjNBdW0IK/XX2chepHL4V74dNELmjDZJhbL1TRC51sTCgltHrJTSq1q/Xg7PThu9ol5wyJ2wpX3HDr76c45VUt8/EPNOMHnBWDy/Z+/0WwZb/Uq5dH+EcTuON6dHnvdSKf/oBmtXppaK+lcVTqgEZcMYHhdFagr2+WFTTwRlWRzXDYSYw6qK68x4GnESzpKN3Duv0s4pBSiZbOjLPMKJunVEfqGW1+148kSuAZb42rYHLmi6pvNB4G8FYSDXLp3T5fOwg1B6gHCg/N0KdC8CHc9jF4swM1bpr/9Em1rKUa3DfgksZBru0z5Hu+XGNYO9sxXfChrHKRVDrY7WMclAG6U7wpxkIU8sKsKI+e6ZYuzYxExNKjqI3/OOfKq9P+zMhLgxXsLRq4OQfr1C5K18fyEf1nv14j6pn/SZ4wMqLonnAhsMBgme6WFA95biHp7y01mltir6Iza144ZG8pJ5FKvt88bw7vdT0+WD86YL6xNQ9RWQ0gxfYeQ8rDhZVr91Y7yAyowufsRHqDqjGJVM6ZcCI3LVRM6wZsAwDW1K6bP2bQO897DO1JByU6ZrAOaz8mVE2SU6XVJ7BPYmjCtKukrgCWGZqFQ/+VBc+9yTVPK3WrYlQwnW2csNYWiCCB+ew2rm62Uqm50h7XqyTWtvCRJZmsPY2sTaglrFkYzXWrzaCmzDkBvckdbThPVqdMY4gwA4y/NO3TPzrmJ2G+gjvT1g53nE/zxwcLF7SXoQwtk69Bwxrky4sBwOAmai7Ke7J6j28zntYaWUx9tJVE3Dn3wZFO94flwRGnSwe9lHQ69nppcLlYuWU/qbOm0yQSwIYqyDhqOZRG5G+QI50YYz1YK8nJjMY3JM4zi2q3nvmdNn6N0ETT1hrAAaa8A40xdpY0zeJbUbzqDOlSy0v6n6axYtX0/ZbTfcyi2ea8u3pLOUGMFb5VBlJyc90boRqdy0L7izPUQpmAieexXZRPUFO35euAJaqGSKjXXhPaXXJLqlF71RCSwAD1SINCVkpesOvZ3a+nL96cYnn/yCQO3IW7N0j2Lt1N5Zs6suSuFgHLkU2yCJD5EuyllwohsPKTCHR89atAai7RiKXulgesBFZSsqgM6D7T8+UTgldHY3LDNGPHYT67mGimrUc6TL3bzXLR7sUr7nXg3P4VupiJsQHxsNhAqNmyJouaUaTrs/ckwmzgvzJXm7coVAHOE1Cy/QcJaPO/IL69ZLhSYJnDip9u9TKamzWU01wxkdFrE/SMNCEb+8kjuGpjOslggA7yPC/cnSFxVUDf/2DGtqf2cUPT/sLzCnNzgkgdbFukcphnadW/2CelGWP5vUqlO/xwd3NSj2KxBAcyCIraUZzb1i94cPoArT2ugJYlmypUkhCOjOR+TwfjpTyMvVvEgNN+A+OYNXXTUfG/klJl9S+pFmOQZVvvCceUOtOKDfNgBojx3Okw3DYh2VmvyIJAYw6WemeUoz7xzZCBWzRjLoP4kWbodkSZ1XCzmS9DMqjlNeGY7eMDffBGGXjfmEmvGj38U/fMjF3t5zZ+XIA3v+1jW+3BfjhaT/vTxTqPZsJTUN1rze14Z0BjFQSiWnV9+Ie20Atq1VTVLu1jl/E5g4n55CR6McOQq5b8b3WnV4qXHkk7PXgvKirq6qnh5IMpcmtb88i9nafunNEWcy1d2rhmjSieIKZ0ykerL3bg0kro3sKy0ytsoCYpbyM/UsYm1s33HR6qXDFvXXTuXhZWljwY3OOdGZC0w5d+1RZTRe3usWhk+g2Q65y9e1U+jU0XUs023OUhPJc3Iu3m0WsLnXXz2gtQXTPnL5POr3UDOv6K13edypVZ0XY6azNVBJdsGD5wy+wfGse89cXsD7nJbpiYu1Gyh7vvChaj/8XEzb+4d0qquxR/ulv5pm+ZealH9THFncLJeo+iP/ciDIdVlEWEp0sHp7EMTyi3JxxKYtsgDLlb6Ny+KOExUeAtUut0JdjV8+okwVXAGffCNV9KLt6xh1UbLLuhsM+LPP7U2Yd6/jStEe9UD1VLTw0Ht+pkyudIhto/RHXuLOly9y/ZiJ74v2XOjOYoU5bKE0Iy54uubzQeBuLS7eUQFUn19clpZ0Z2Wy52sJrtucoiVEnCy4PTi1uQt3MBE60YYw9c/rfNaTPLvU3CyL1fBXYuG9k9dI+7H92C/t3Pwcg6jez+rN9RBcKm8mWHTjQtZFv5Pp6K/PzadXKLUE+2SAIm6TTS00vLIqeL2yCovL4d7oh1++hjpG8e0UQtpBMs0BByEZRGf6dztqpLryPuhJCSRCXdVz4Zd++sEnE8AvCDkTbvSMIhSCL/oIgCCWGGH5BEIQSw2i31eQd2WIuw27bml+gCoIgCI8G8fgFQRBKDDH8giAIJYYYfkEQhBJDDL8gCEKJUVSGv+/FL/jk+1d5+/XbGeO8/fptPvn+Vfpe/GIbayYIgvDVoagM/0vPLXDmXQdn3nVkjKOFv/TcwjbWbAfQcRvb0BVMHfrrQSr197aIsv4rVF64TdnWZisIwjZRdL/cvT5r5dqsNWP4tVkrlbbi+TJJ+dlBzHePEXgjc523hbF9BMb2xS7L/3QcJo6xXGi9Tk5T2WFn5ZV9JH/Fb+ONQ4lHJgqC8NAoP+jD/Cc3CP/7k6xPKk6x4XdWsLzyv6z96nEiH+/LkUMqReXxC1tL1PuIByNBEIqSovH4mxs3/7nnvXVr3PFnO47Cj2XoGtGJGqxtU0QmFM+8rP8KFW1zShTPEZZP1yl/d9zG9tp4rFPCl3sIndfyCmK6cBmreu5BZOLbRJp/oVw3XaZyqJX7x1tYT1OLsv4rVOxpJFg3rsRfamflFQdGLb+l9gTPuvzsILu0o2F1Ycrs4giR5g/UeujK7LiN7bVVwsebMGj5Ng1i7tDS+7EMfaCeAdZA8K1DrI2llheZOEaQT2L9UzE0ntQPWnua1X7LL9+0db0Mu45Nxcp95LMmQSgRisLwv/36bZ5qDHF91sK1WUvO+NdmLVyftfCT/ptcm7XQ+2a2qc4c1j3NLB/vUS5PTlPR3MjK8UMxY2rrVweEQ6tE3uohMKbEqzw2TeR8C+uq0Tde06QTP6Z+C2uv9BDNV+ppmoW3elgeU/KqGGogqLu29jvUPPwYOcLy8Tpig00sDIxt14i81cPymGpYzzriAxcA1li9jFOawQ5iuvABXO5h+Tyq4Z0mOtZCtP8Ku2LlaRxiOYvUEycpXx1l/VfYVdfOynE1/clpKi/c1uU3xa7WI8r/S8dtbK99gqkjPmgIgvDwKBqpp4wNKjah3VfYopSxkccCYwPBn2tGLYipY4rwWNyYrU+1YtyjnJG08UZL3PCcdxA7XLHDh5F2gjHjXsdaBkNffnaQyiH131nducCeZjVvK5FrDSnXWh2gjlDMkKtxdUQmvhmr4/pUK9St5u6Dkx6stBPWjPOYg8jSAoYO2PDW5JdHWqxE/WBwJs/W/JjbIHheN2icbyLILMbYQnMr97V2jjmILM1hOFBQJQRB2CRF4fF/7819NDcG+Un/TZobQ/z6xq6s8ZsbQ+ytW+OFv3XlkHrSYz42iPmY7sZSO2XUJckhAK3Kod0HVjH6HVk83zjrp3seeOEzQYpCMfZp+cxOJN8dO1XjVAyNJ9wKHwDOt7DivKKEJUlO+bB++hiRC5epHEqWa2qIJnjvVqL+OYwHgM+Sc1EHkE2UKwhC4RSF4QcSdvI0NwYZeP1zOvqejO3XP/PuY3x05jrf08k6hRj9ZB06jroeoMooyrUvHly3qg4OD5eYfn78UOx6S5Rv/VpGEtounbL+K1SctWeMlx5FWlpTZSnLSU1eUmYU67F+DmKoayCaYvQFQcjKehkYoxh2B2NriIaGZTBGIVCIDSxSJ+uO30Tvm48D8OMPa/nxh7WAMjMozNhrWIlcA+vJNHvQO1Yx6L3Uk76453/eQbhqHGu/Jmn4MfU/nLOHDXvmiNy1q1dBjM1zWePnxXkH4aYPsJzMHi2r7KNq9JklIb3sU0fEM5fYzyc9WGkkIhq+IGyKdc9uNhasGA/NYmy7Q/nX5jEevs3Gipn1/8v/68p6isbj13iqMcRywBCbAegN/bVZK82NQZ5qDBWc/8Ybh7h/djBB9lB2rewjeOgKFUODyk1Pa1zjp47Q8SNYhhRJQ0sDsP7zdngt+66ezbB++gjRWDkNhD0NuZLkQR2ht9qxvTZIpSZxqbIOCbJSK/e1xdjzTQQ7Lsd39aTNN3GnE54jsd8NrJ/uSeznAmQkQRCA+ybCl5/C/J1rmF+4AcDGgpXwvz3JxpeF6QFlX/9aT97vYk1tGQv3Ht6r2/fiF7z03AL/fWNXgqSj5+3Xb/P7T97nxx/WcObdxx5aXYTMKPLTN2X7pSDsUIrK8As7AcXLN4wl7u0XBGHnUHRSj1Cs6GQdz5GUffuCIOwcxPALeaLt3hEEYadTlLt6BEEQhIeHGH5BEIQSw7gayP+79qtbsKVcEARBeLSIxy8IglBiiOEXBEEoMcTwC4IglBj/D+fkuUwnX6LGAAAAAElFTkSuQmCC"></p><p>æ‰“å¼€<code>react.dll.xx.js</code>çœ‹ä¸€ä¸‹ï¼Œå†…éƒ¨ç¡®å®åŒ…å«äº†<code>react.production.min.js</code>å’Œ<code>react-dom.production.min.js</code>ç”Ÿäº§ç‰ˆæœ¬çš„ä»£ç ã€‚å†æ‰“å¼€<code>manifest.json</code>æ–‡ä»¶ï¼Œå†…éƒ¨åŒ…å«äº†æ¨¡å— idï¼ŒDLL çš„ åç§°ï¼ŒDLL åŒ…å«çš„æ‰€æœ‰æ¨¡å—ã€‚</p><p><img alt="image-20200913192529421" src="/assets/images/image-20200913192529421-5b42c6748d3429f32025543573225260.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="dllreferenceplugin">DllReferencePlugin<a class="hash-link" href="#dllreferenceplugin" title="Direct link to heading">â€‹</a></h3><p><code>DllReferencePlugin</code>è´Ÿè´£æ ¹æ®<code>DllPlugin</code> ç”Ÿæˆçš„<code>manifest.json</code>å°†é¡¹ç›® chunk å’Œ DLL é“¾æ¥åœ¨ä¸€èµ·ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é…ç½®é¡¹-3">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹-3" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>é…ç½®é¡¹</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…å¡«</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>context</code></td><td><code>String</code></td><td>yes</td><td><code>manifest.json</code>æ–‡ä»¶ä¸­è¯·æ±‚çš„ contextï¼›é»˜è®¤æ˜¯ webpack çš„<code>context</code>é…ç½®é¡¹ï¼Œä¹Ÿå°±æ˜¯<code>webpack.config.js</code>æ‰€åœ¨çš„å½“å‰ç›®å½•</td></tr><tr><td><code>scope</code></td><td><code>String</code></td><td>no</td><td>DLL ä¸­å†…å®¹çš„å‰ç¼€</td></tr><tr><td><code>extensions</code></td><td><code>Array</code></td><td>no</td><td>ç”¨äºè§£æ DLL bundle ä¸­æ¨¡å—çš„æ‰©å±•åï¼Œä»…åœ¨ä½¿ç”¨<code>scope</code>æ—¶ä½¿ç”¨</td></tr><tr><td><code>content</code></td><td><code>String</code></td><td>no</td><td>è¯·æ±‚åˆ°æ¨¡å— id çš„æ˜ å°„ï¼Œé»˜è®¤æ˜¯<code>manifest.json</code>æ–‡ä»¶å†…éƒ¨çš„<code>content</code></td></tr><tr><td><code>name</code></td><td><code>String</code></td><td>no</td><td>æš´éœ²å‡ºçš„ DLL çš„å‡½æ•°åç§°ï¼Œé»˜è®¤æ˜¯<code>manifest.json</code>æ–‡ä»¶å†…éƒ¨çš„<code>name</code></td></tr><tr><td><code>manifest</code></td><td><code>Object</code></td><td>yes</td><td><code>String</code></td></tr><tr><td><code>sourceType</code></td><td><code>String</code></td><td>no</td><td>DLL æ˜¯å¦‚ä½•æš´éœ²è‡ªå·±æ¨¡å—çš„ï¼Œè§ â€”â€” <a href="https://webpack.docschina.org/configuration/output/#outputlibrarytarget" target="_blank" rel="noopener noreferrer"><code>output.libraryTarget</code></a></td></tr></tbody></table><blockquote><p>Noteï¼šéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ç‚¹è¿™é‡Œçš„<code>context</code>è¿™ä¸ªé…ç½®é¡¹æ˜¯å¿…å¡«çš„ï¼Œå¹¶ä¸”å¿…é¡»æŒ‡å‘<code>manifest.json</code>æ‰€åœ¨çš„ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚webpack æ–‡æ¡£ä¸­ç»™çš„è¯´æ˜<code>context</code>çš„ example æ¯”è¾ƒæ¨¡ç³Šï¼ŒæŒ‰ç…§<a href="https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin/2-use-dll-without-scope" target="_blank" rel="noopener noreferrer">use-dll-without-scope</a>è¿™ä¸ªä¾‹å­çœ‹æ¯”è¾ƒæ¸…æ¥šä¸€ç‚¹<code>context</code>çš„ç”¨æ³•ã€‚</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä½¿ç”¨-3">ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨-3" title="Direct link to heading">â€‹</a></h4><p><code>DllReferencePlugin</code>ä½¿ç”¨ç›¸å¯¹ç®€å•ï¼Œåœ¨é¡¹ç›®æœ¬æ¥çš„<code>webpack.config.js</code>ä¸­æŒ‰ç…§ plugin å¼•å…¥å³å¯ã€‚å¦‚æœæœ‰å¤šä¸ªæŠ½å–çš„ DLLï¼Œå¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugin</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">webpack</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">DllReferencePlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      context</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./dll&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      manifest</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./dll/react-manifest.json&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">webpack</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">DllReferencePlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      context</span><span class="token operator">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./dll&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      manifest</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./dll/other-manifest.json&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™æ ·å†æ‰§è¡Œ<code>yarn build</code>æ‰“åŒ…ï¼Œwebpack å°±ä¼šè‡ªåŠ¨è·³å¯¹<code>react</code>æ¨¡å—äº†ã€‚æ‰“åŒ…ä¿¡æ¯æ˜¾ç¤º webpack externalï¼ˆä½¿ç”¨å¤–éƒ¨æ‹“å±•ï¼‰äº†<code>react_dll</code>ã€‚</p><p><img alt="image-20200913194138841" src="/assets/images/image-20200913194138841-9fe7d64872e258d05d65702c39b81392.png"></p><p>åœ¨<code>webpack.config.js</code>å†…éƒ¨ä¸ä½¿ç”¨<code>DllReferencePlugin</code>æ—¶ï¼Œæ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹éœ€è¦ 5S å·¦å³çš„æ—¶é—´ï¼Œä½¿ç”¨ä¹‹åï¼Œå‡å°‘äº† 2Sã€‚</p><p><img alt="image-20200913194517301" src="/assets/images/image-20200913194517301-7e8be4d22339a891b838647fe730ccfd.png"><img alt="image-20200913194635839" src="/assets/images/image-20200913194635839-2ef2c0a2c2f67debe0923c75250f4a31.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¤åˆ¶-dll-æ–‡ä»¶">å¤åˆ¶ DLL æ–‡ä»¶<a class="hash-link" href="#å¤åˆ¶-dll-æ–‡ä»¶" title="Direct link to heading">â€‹</a></h3><p>ç¬¬ä¸‰æ–¹åº“çš„ DLL æ–‡ä»¶ï¼Œéœ€è¦æ’å…¥ HTML ä¸­ï¼Œå¹¶ä¸”å¤åˆ¶åˆ°é¡¹ç›®çš„<code>build</code>ç›®å½•ä¸‹ï¼Œå¦åˆ™é¡¹ç›®æ— æ³•è¿è¡Œã€‚</p><p>ä½¿ç”¨<a href="https://github.com/webpack-contrib/copy-webpack-plugin" target="_blank" rel="noopener noreferrer"><code>copy-webpack-plugin</code></a>å°† DLL å¤åˆ¶åˆ°<code>build</code>ç›®å½•ï¼Œä½¿ç”¨<a href="https://github.com/jharris4/html-webpack-tags-plugin" target="_blank" rel="noopener noreferrer"><code>html-webpack-tags-plugin</code></a>å°†é¢å¤–çš„<code>&lt;script&gt;</code>æ ‡ç­¾æ’å…¥åˆ° HTML é¡µé¢ä¸­ï¼Œ<code>html-webpack-tags-plugin</code>éœ€è¦é…åˆ HtmlWebpackPlugin ä¸€èµ·ä½¿ç”¨ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> copy-webpack-plugin html-webpack-tags-plugin -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugin</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      patterns</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./dll/react.dffd2b4e9672e773b9c9.dll.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> to</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;static/js&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      inject</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      template</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./public/index.html&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      favicon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./public/favicon.ico&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebpackTagsPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      append</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      publicPath</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;static/js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//dll.jsæ–‡ä»¶çš„è·¯å¾„å‰ç¼€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      tags</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react.dffd2b4e9672e773b9c9.dll.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="image-20200913230740962" src="/assets/images/image-20200913230740962-c5a83e19619cccf66f8b0a680661293e.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å’Œ-splitchunksplugin-çš„å†²çª">å’Œ SplitChunksPlugin çš„å†²çª<a class="hash-link" href="#å’Œ-splitchunksplugin-çš„å†²çª" title="Direct link to heading">â€‹</a></h3><p>ç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œå¦‚æœ webpack é…ç½®äº†<code>SplitChunksPlugin</code>æ¥æŠ½å–<code>node_modules</code>ä¸­çš„ä»£ç ï¼Œå’Œ<code>DllReferencePlugin</code>ç¡®å®æ˜¯æœ‰å†²çªçš„ã€‚</p><p>å› ä¸ºæˆ‘çš„æµ‹è¯•é¡¹ç›®å¾ˆå°ï¼Œåªå¼•å…¥äº†<code>react</code>å’Œ<code>react-dom</code>è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œè€Œç°åœ¨æˆ‘åˆé€šè¿‡<code>DllPlugin</code>æŠŠå®ƒä»¬ä¸¤ä¸ªæŠ½å–äº†å‡ºæ¥å•ç‹¬æ‰“åŒ…ï¼Œæ‰€ä»¥é¡¹ç›®å°±ä¸åº”è¯¥å­˜åœ¨ vendor chunk äº†æ‰å¯¹ï¼Œä½†æ˜¯æ— è®ºå¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œé…ç½®äº†å¦‚ä¸‹çš„<code>SplitChunksPlugin</code>éƒ½ä¼šæŠŠ<code>react</code>éƒ¨åˆ†æ‰“åŒ…è¿›æ¥ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  optimization</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    splitChunks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      cacheGroups</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vendor</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;vendors&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          chunks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;all&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æˆ–è€…æ˜¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  optimization</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    splitChunks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      chunks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;all&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="image-20200913232708859" src="/assets/images/image-20200913232708859-6f0079bbb6747611d01b4063994f2f2b.png"></p><p><img alt="image-20200913232837318" src="/assets/images/image-20200913232837318-222f1536f32e5b5f958c47f4b2356542.png"></p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="externals">externals<a class="hash-link" href="#externals" title="Direct link to heading">â€‹</a></h2><p><code>externals</code>å¯ä»¥ç›´æ¥å°†æŸäº›æ¨¡å—åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­å‰”é™¤ï¼Œè¿™æ ·å‡å°‘ webpack æ‰“åŒ…æ—¶å€™çš„å·¥ä½œé‡ï¼Œä»è€ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é…ç½®é¡¹-4">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹-4" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼<a class="hash-link" href="#æ­£åˆ™è¡¨è¾¾å¼" title="Direct link to heading">â€‹</a></h4><p>å¯ä»¥ä¸º<code>externals</code>æŒ‡å®šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™æ‰€æœ‰åŒ¹é…åç§°çš„æ¨¡å—åœ¨æ‰“åŒ…çš„æ—¶å€™éƒ½ä¼šè¢«å¿½ç•¥</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  externals</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">react</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¯¹è±¡">å¯¹è±¡<a class="hash-link" href="#å¯¹è±¡" title="Direct link to heading">â€‹</a></h4><p>å¯ä»¥ä¸º<code>externals</code>æŒ‡å®šä¸€ä¸ªå¯¹è±¡å½¢å¼ï¼Œå±æ€§çš„é”®è¡¨ç¤ºå¿½ç•¥çš„æ¨¡å—åï¼Œå±æ€§çš„åç§°è¡¨ç¤º<code>library</code>æš´éœ²çš„å…¨å±€å˜é‡ï¼Œä¾‹å¦‚ä½¿ç”¨ React ä¼šå»è¿™æ ·å¯¼å…¥å…¶å†…éƒ¨çš„<code>React</code>å’Œ<code>ReactDOM</code> API</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ReactDOM</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react-dom&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é‚£ä¹ˆé€šè¿‡<code>externals</code>å°±å¯ä»¥åƒä¸‹é¢è¿™æ ·å»é…ç½®ï¼Œ<code>react</code>å’Œ<code>&quot;react-dom&quot;</code>è¡¨ç¤º webpack æ‰“åŒ…è¦æ’é™¤ä¸Šé¢<code>import</code>ä¸­<code>from</code>çš„æ¨¡å—ï¼Œä¸ºäº†æ›¿æ¢è¿™äº›æ¨¡å—ï¼Œéœ€è¦ä½¿ç”¨<code>React</code>å’Œ<code>ReactDOM</code>è¿™æ ·çš„å…¨å±€å˜é‡ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  externals</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    react</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;React&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react-dom&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ReactDOM&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™æ ·æ‰§è¡Œ<code>yarn build</code>æ‰“åŒ…ä»¥åï¼Œå¯ä»¥çœ‹åˆ° webpack external äº†<code>React</code>å’Œ<code>ReactDOM</code>çš„å…¨å±€å˜é‡ã€‚</p><p><img alt="image-20200914154732218" src="/assets/images/image-20200914154732218-d93c9254c825e82099b6d7fca0de1d93.png"></p><p>ä¸ºäº†èƒ½å¤Ÿæ‰¾åˆ°<code>React</code>å’Œ<code>ReactDOM</code>è¿™æ ·çš„å…¨å±€å˜é‡ï¼Œéœ€è¦å°† React åº“æ”¾åœ¨ HTML ä¸­é€šè¿‡<code>&lt;script&gt;</code>å…¨å±€å¼•å…¥ã€‚</p><div class="codeBlockContainer_J+bg language-html theme-code-block"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">crossorigin</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">react.production.min.js</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">crossorigin</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">react-dom.production.min.js</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯¹äºå…·æœ‰çˆ¶çº§æ¨¡å—çš„ç»“æ„ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºå±æ€§åï¼Œå…¶ä¸­<code>./math</code>å±äºçˆ¶æ¨¡å—ï¼Œè¡¨ç¤º<code>subtract</code>åªä½¿ç”¨äº†<code>./math</code>å†…éƒ¨çš„<code>other</code>æ¨¡å—ï¼Œæ‰€ä»¥è¿™ä¸ªç»“æœæœ€ç»ˆè¢«ç¼–è¯‘æˆ<code>require(&#x27;./math&#x27;).subtract</code>ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  externals</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subtract</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./math&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;other&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¯èƒ½å¹¶ä¸éœ€è¦-dllplugin">å¯èƒ½å¹¶ä¸éœ€è¦ DllPlugin<a class="hash-link" href="#å¯èƒ½å¹¶ä¸éœ€è¦-dllplugin" title="Direct link to heading">â€‹</a></h3><p><code>DllPlugin</code>æœ¬èº«æ›´å¤šçš„ç”¨å¤„æ˜¯æŠŠç¬¬ä¸‰æ–¹åº“æŠ½æˆå•ç‹¬çš„<code>library</code>ï¼Œè€Œä¸”è¿˜éœ€è¦æš´éœ²å…¨å±€å˜é‡ï¼Œå³é€šè¿‡<code>&lt;script&gt;</code>çš„æ–¹å¼å…¨å±€æ³¨å…¥ï¼Œç„¶åé€šè¿‡<code>DllReferencePlugin</code>å¼•ç”¨<code>library</code>ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ CDN +<code>externals</code>çš„æ–¹å¼å‘¢ï¼ŸæŠŠèµ„æºé€šè¿‡ CDN å¼•å…¥ï¼Œç„¶åç›´æ¥<code>externals</code>å¿½ç•¥æ¨¡å—æ‰“åŒ…å®Œäº‹äº†å‘€ï¼</p><p>CDN çš„é…ç½®å¯ä»¥ä½¿ç”¨å¾ˆå¤šæ–¹å¼ï¼Œé¦–å…ˆå¯ä»¥ç›´æ¥å°† CDN èµ„æºæ‰‹åŠ¨æ”¾åœ¨ HTML æ¨¡æ¿é¡µé¢ï¼Œé€šè¿‡<code>HtmlWebpackPlugin</code>å°±ä¼šè‡ªåŠ¨ç”Ÿæˆå¸¦æœ‰ CDN èµ„æºçš„ HTML é¡µé¢ã€‚</p><p>ä¾‹å¦‚åœ¨ä¸Šæ–‡é…ç½®äº†<code>externals</code>å¿½ç•¥ React çš„æ—¶å€™ï¼Œåœ¨ HTML é¡µé¢æ·»åŠ  React çš„ jsDelivr çš„ CDN é“¾æ¥ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token plain">script crossorigin </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">src</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://cdn.jsdelivr.net/npm/react@16.12.0/umd/react.production.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token plain">/script</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token plain">script crossorigin </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">src</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://cdn.jsdelivr.net/npm/react-dom@16.12.0/umd/react-dom.production.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token plain">/script</span><span class="token operator">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¹Ÿå¯ä»¥å€ŸåŠ©<code>HtmlWebpackPlugin</code>çš„<a href="https://github.com/jantimon/html-webpack-plugin#writing-your-own-templates" target="_blank" rel="noopener noreferrer">è‡ªå®šä¹‰æ¨¡æ¿</a>æ¥è§£å†³ï¼Œ<code>HtmlWebpackPlugin</code>é»˜è®¤æ˜¯æ”¯æŒ <a href="https://ejs.bootcss.com/" target="_blank" rel="noopener noreferrer">ejs æ¨¡æ¿</a>ï¼Œå¯¹ä¼ å…¥<code>HtmlWebpackPlugin</code>çš„é…ç½®é¡¹å¯ä»¥åœ¨ HTML ä¸­<code>&lt;%= htmlWebpackPlugin.options.xxx %&gt;</code>çš„å½¢å¼å»è®¿é—®ã€‚</p><p>è¿™é‡Œè¿˜å¾—åŒºåˆ† React å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ç‰ˆæœ¬ï¼Œå¦‚æœåœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨äº†ç”Ÿäº§ç¯å¢ƒçš„ Reactï¼Œæœ‰ä¸€ä¸ªåŒºåˆ«æ˜¯æµè§ˆå™¨çš„ React devtools æ’ä»¶å°±æ£€æµ‹ä¸åˆ°åº”ç”¨æ˜¯åœ¨å¼€å‘ç¯å¢ƒï¼Œå› æ­¤ä¹Ÿå°±æ²¡ç”¨äº†ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      inject</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      template</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./public/index.html&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      favicon</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./public/favicon.ico&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      cdn</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        script</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          isDevelopment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://cdn.jsdelivr.net/npm/react@16.12.0/umd/react.development.js&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://cdn.jsdelivr.net/npm/react@16.12.0/umd/react.production.min.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          isDevelopment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://cdn.jsdelivr.net/npm/react-dom@16.12.0/umd/react-dom.development.js&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://cdn.jsdelivr.net/npm/react-dom@16.12.0/umd/react-dom.production.min.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ HTML é¡µé¢ï¼Œejs æœ¬èº«å¾ˆç®€å•ï¼Œç›´æ¥åœ¨ HTML é‡Œå†™çš„æ¯ä¸€è¡Œ JS ä»£ç ç”¨<code>&lt;% ... %&gt;</code>åŒ…èµ·æ¥å°±è¡Œï¼Œå¦‚æœæ˜¯å˜é‡ï¼Œç”¨<code>&lt;%= ... %&gt;</code>åŒ…èµ·æ¥ã€‚</p><div class="codeBlockContainer_J+bg language-html theme-code-block"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token doctype punctuation" style="color:rgb(248, 248, 242)">&lt;!</span><span class="token doctype doctype-tag">DOCTYPE</span><span class="token doctype"> </span><span class="token doctype name">html</span><span class="token doctype punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">html</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">zh-hans</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">head</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">meta</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">utf-8</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">title</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">toycra</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">title</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">head</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">body</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">root</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!--CDN--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;% if (htmlWebpackPlugin.options.cdn) { %&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;% for(let src of htmlWebpackPlugin.options.cdn.script) { %&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">crossorigin</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">anonymous</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">&lt;%=src%&gt;</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;% } %&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;% } %&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">body</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">html</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç°åœ¨æ‰§è¡Œæ‰“åŒ…ï¼ŒReact æ¨¡å—å°±è¢«<code>externals</code>çš„é…ç½®å¿½ç•¥æ‰äº†ï¼Œå…¶ä½¿ç”¨ CDN æ–¹å¼å…¨å±€æ³¨å…¥ã€‚</p><p><img alt="image-20200914181903091" src="/assets/images/image-20200914181903091-164113815888335-15a19aa5b2eabf69984264f6bb67539d.png"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wood3n/icodex-next/tree/master/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ3ï¼‰.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ2ï¼‰"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">webpackä¼˜åŒ–ï¼ˆ2ï¼‰</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/engineer/webpackä¼˜åŒ–/webpackä¼˜åŒ–ï¼ˆ4ï¼‰"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">webpackä¼˜åŒ–ï¼ˆ4ï¼‰</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ä¼˜åŒ–æ¨¡å—è§£æè§„åˆ™" class="table-of-contents__link toc-highlight">ä¼˜åŒ–æ¨¡å—è§£æè§„åˆ™</a><ul><li><a href="#ruleinclude-å’Œ-ruleexclude" class="table-of-contents__link toc-highlight">rule.include å’Œ rule.exclude</a></li><li><a href="#resolvemodules" class="table-of-contents__link toc-highlight">resolve.modules</a></li><li><a href="#resolvesymlinks" class="table-of-contents__link toc-highlight">resolve.symlinks</a></li><li><a href="#modulenoparse" class="table-of-contents__link toc-highlight">module.noParse</a></li></ul></li><li><a href="#åˆ©ç”¨ç¼“å­˜" class="table-of-contents__link toc-highlight">åˆ©ç”¨ç¼“å­˜</a><ul><li><a href="#ä¼˜åŒ–-babel-loader" class="table-of-contents__link toc-highlight">ä¼˜åŒ– babel-loader</a></li><li><a href="#ä¼˜åŒ–-eslint-loader" class="table-of-contents__link toc-highlight">ä¼˜åŒ– eslint-loader</a></li><li><a href="#cache-loader" class="table-of-contents__link toc-highlight">cache-loader</a></li></ul></li><li><a href="#å¤šçº¿ç¨‹æ‰“åŒ…" class="table-of-contents__link toc-highlight">å¤šçº¿ç¨‹æ‰“åŒ…</a><ul><li><a href="#thread-loader" class="table-of-contents__link toc-highlight">thread-loader</a></li></ul></li><li><a href="#dll" class="table-of-contents__link toc-highlight">DLL</a><ul><li><a href="#library" class="table-of-contents__link toc-highlight">library</a></li><li><a href="#dllplugin" class="table-of-contents__link toc-highlight">DllPlugin</a></li><li><a href="#dllreferenceplugin" class="table-of-contents__link toc-highlight">DllReferencePlugin</a></li><li><a href="#å¤åˆ¶-dll-æ–‡ä»¶" class="table-of-contents__link toc-highlight">å¤åˆ¶ DLL æ–‡ä»¶</a></li><li><a href="#å’Œ-splitchunksplugin-çš„å†²çª" class="table-of-contents__link toc-highlight">å’Œ SplitChunksPlugin çš„å†²çª</a></li></ul></li><li><a href="#externals" class="table-of-contents__link toc-highlight">externals</a><ul><li><a href="#é…ç½®é¡¹-4" class="table-of-contents__link toc-highlight">é…ç½®é¡¹</a></li><li><a href="#å¯èƒ½å¹¶ä¸éœ€è¦-dllplugin" class="table-of-contents__link toc-highlight">å¯èƒ½å¹¶ä¸éœ€è¦ DllPlugin</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.bc1968d0.js"></script>
<script src="/assets/js/main.84a75bf0.js"></script>
</body>
</html>